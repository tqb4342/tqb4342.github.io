<!DOCTYPE html>
<html>
<meta  lang="zh-CN" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#fff" id="theme-color">
  <link rel="icon" href="/img/logo.jpg">
  <title>谭庆波的博客</title>
  
  
  <meta property="og:title" content="卷积与反卷积（转置卷积）关系超详细说明及推导">
  
  
  <meta property="og:url" content="http://tanqingbo.cn/2019/04/10/%E5%8D%B7%E7%A7%AF%E4%B8%8E%E5%8F%8D%E5%8D%B7%E7%A7%AF%EF%BC%88%E8%BD%AC%E7%BD%AE%E5%8D%B7%E7%A7%AF%EF%BC%89%E5%85%B3%E7%B3%BB%E8%B6%85%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E%E5%8F%8A%E6%8E%A8%E5%AF%BC/index.html">
  
  
  <meta property="og:img" content="/img/logo.jpg">
  
  
  <meta property="og:img" content="学习总结  思考感悟  知识管理">
  
  
  <meta property="og:type" content="article">
  <meta property="og:article:published_time" content="2019-04-10">
  <meta property="og:article:modified_time" content="2019-04-10">
  <meta property="og:article:author" content="谭庆波">
  
  
  
  
  
  
  

  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-178024758-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-178024758-1');
</script>
  
<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?d87293651eefff721c898f38338ea3a8";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
    var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
      }
    };
    setDarkmode();
  </script>
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
  </script>
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_f7g5jnuftcf.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  
  <link rel="preload" href="//cdn.jsdelivr.net/npm/fslightbox@3.1.0/index.min.js" as="script">
  
  
  <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  <link rel="prefetch" href="//cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-svg.js" as="script">
  
  
  
  
  
<link rel="stylesheet" href="/css/main.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_f7g5jnuftcf.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">

  
  
  
<meta name="generator" content="Hexo 5.1.1"></head>


<body>
  <div class="wrapper">
    
    <nav class="navbar">
  <div class="navbar-logo">
    <span class="navbar-logo-main">
      
      <img class="navbar-logo-img" src="/img/logo.jpg">
      
      <span class="navbar-logo-dsc">谭庆波的博客</span>
    </span>
  </div>
  <div class="navbar-menu">
    
    <a href="/" class="navbar-menu-item">
    
    首页
    
    </a>
    
    <a href="/archives" class="navbar-menu-item">
    
    归档
    
    </a>
    
    <a href="http://tanqingbo.cn/categories/%E8%B5%84%E6%BA%90%E5%88%86%E4%BA%AB/" class="navbar-menu-item">
    
    资源分享
    
    </a>
    
    <a href="/about" class="navbar-menu-item">
    
    关于我
    
    </a>
    
    <a href="/categories" class="navbar-menu-item">
    
    分类
    
    </a>
    
    <a href="/links" class="navbar-menu-item">
    
    友链
    
    </a>
    
    <a class="navbar-menu-item darknavbar" id="dark"><i class="iconfont icon-weather"></i></a>
    <a class="navbar-menu-item searchnavbar" id="search"><i class="iconfont icon-search" style="font-size: 1.2rem; font-weight: 400;"></i></a>
  </div>
</nav>
    
    <div id="local-search" style="display: none;">
      <input class="navbar-menu-item" id="search-input" placeholder="请输入搜索内容...">
      <div id="search-content"></div>
    </div>
    
    <div class="section-wrap">
      <div class="container">
        <div class="columns">
          <main class="main-column">
<article class="card card-content">
  <header>
    <h1 class="post-title">
      卷积与反卷积（转置卷积）关系超详细说明及推导
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2019-04-10T08:49:18.000Z" style="display: flex; align-items: center;">
      <i class="iconfont icon-calendar" style="margin-right: 2px;"></i>
      <span>2019-04-10</span>
    </time>
    
    <span class="dot"></span>
    
    <a href="/categories/机器学习/" class="post-meta-link">机器学习</a>
    
    
    
    <span class="dot"></span>
    <span>5.1k 字</span>
    
  </div>
  
  </header>
  <div id="section" class="post-content">
    <div id="content_views" class="markdown_views prism-atom-one-dark">
                            <!-- flowchart 箭头图标 勿删 -->
                            <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><path stroke-linecap="round" d="M5,0 0,2.5 5,5z" id="raphael-marker-block" style="-webkit-tap-highlight-color: rgba(0, 0, 0, 0);"></path></svg>
                            <blockquote>
<p>本文是论文《A guide to convolution arithmetic for deep learning》的阅读笔记及思考，对于文章中浅尝则止的部分进行了深入的分析，如步长大于 1 的卷积与池化之间是否存在一种等价的关系，用矩阵的形式表示CNN的前向传播和反向传播。</p>
</blockquote>
<p>  以 CNN 为代表的卷积神经网络在图像的相关领域得到了较为长足的发展。在 CNN 中卷积实际分类两大类，一种是卷积，另一种是转置卷积（transposed convolutional ），或者称为分数步长卷积（ fractionally strided convolutional layers），亦或者是反卷积（deconvolution）。</p>
<p>  虽然在一些文章中将反卷积与转置卷积认为是等价的，但是 [1] 中的作者表示他们反对使用反卷积来表示转置卷积，他们的依据是在数学中反卷积被定义为卷积的逆，这实际上与转置卷积是不相同的。所以在下面的内容，我都是用转置卷积这个名词。</p>
<h1><a name="t0"></a><a id="1CNN_5" target="_blank"></a>1.CNN中的卷积</h1>
<p>  因为本文主要介绍卷积与转置卷积之间的关系，所以对于卷积相关的知识并没有过多的介绍，如果想详细了解卷积的相关基础知识课参考我的博文<a href="https://blog.csdn.net/dugudaibo/article/details/78452893" rel="nofollow" target="_blank">《卷积神经网络入门详解》</a>。在这里只是概括性的讲述一些知识点，方便叙述卷积与转置卷积之间的关系。</p>
<h2><a name="t1"></a><a id="11__7" target="_blank"></a>1.1 卷积与相关滤波间的差别</h2>
<p>   卷积运算与相关滤波之间的差别主要在于，相关滤波直接在核所对应的区域进行相乘再相加，而卷积需要先将卷积核旋转 180 度在进行相乘和相加。所以我们平时所接触的卷积实际上不是卷积，而是一种相关滤波。但是当核是可学习的时候，卷积和相关滤波是可以互换的，所以在 CNN 中我们认为两者是等价的，具体原理及计算过程可以参考<a href="https://blog.csdn.net/dugudaibo/article/details/78390099" rel="nofollow" target="_blank">《图像的复原与重建（4）：图像处理中滤波（filtering）与卷积（convolution）的区别》</a></p>
<h2><a name="t2"></a><a id="12__9" target="_blank"></a>1.2 卷积输出尺寸计算</h2>
<p>  卷积输出尺寸计算公式如下，假设输出数据体在空间上的尺寸 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>&amp;#xD7;</mo><msub><mi>H</mi><mn>2</mn></msub><mo>&amp;#xD7;</mo><msub><mi>D</mi><mn>2</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_2 \times H_2 \times D_2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-1" style="width: 6.432em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.28em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1006.28em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span style="display: inline-block; position: relative; width: 6.28em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1006.28em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-3"><span class="mrow" id="MathJax-Span-4"><span class="msub" id="MathJax-Span-5"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-6" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-7" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-8" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="msub" id="MathJax-Span-9" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-10" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.812em;"><span class="mn" id="MathJax-Span-11" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-12" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="msub" id="MathJax-Span-13" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.81em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-14" style="font-family: MathJax_Math-italic;">D</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.812em;"><span class="mn" id="MathJax-Span-15" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>×</mo><msub><mi>H</mi><mn>2</mn></msub><mo>×</mo><msub><mi>D</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">      W_2 \times H_2 \times D_2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-1"><math><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>×</mo><msub><mi>H</mi><mn>2</mn></msub><mo>×</mo><msub><mi>D</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">W_2 \times H_2 \times D_2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.08125em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 可以通过输入数据体尺寸<span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>&amp;#xD7;</mo><msub><mi>H</mi><mn>1</mn></msub><mo>&amp;#xD7;</mo><msub><mi>D</mi><mn>1</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1 \times H_1 \times D_1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-16" style="width: 6.432em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.28em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1006.28em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-17"><span style="display: inline-block; position: relative; width: 6.28em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1006.28em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-18"><span class="mrow" id="MathJax-Span-19"><span class="msub" id="MathJax-Span-20"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-21" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-22" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-23" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="msub" id="MathJax-Span-24" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-25" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.812em;"><span class="mn" id="MathJax-Span-26" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-27" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="msub" id="MathJax-Span-28" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.81em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-29" style="font-family: MathJax_Math-italic;">D</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.812em;"><span class="mn" id="MathJax-Span-30" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>×</mo><msub><mi>H</mi><mn>1</mn></msub><mo>×</mo><msub><mi>D</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">      W_1 \times H_1 \times D_1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-2"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>×</mo><msub><mi>H</mi><mn>1</mn></msub><mo>×</mo><msub><mi>D</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">W_1 \times H_1 \times D_1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.08125em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，卷积层中神经元的感受野尺寸（F），步长（S），滤波器数量（K）和零填充的数量（P）计算输出出来。</p>
<p><span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mtable><mtr><mtd><mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><msub><mi>W</mi><mn>1</mn></msub><mo>&amp;#x2212;</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi mathvariant=&quot;normal&quot;>/</mi><mi>S</mi><mo>+</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;><mrow><msub><mi>H</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><msub><mi>H</mi><mn>1</mn></msub><mo>&amp;#x2212;</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi mathvariant=&quot;normal&quot;>/</mi><mi>S</mi><mo>+</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=&quot;0&quot; displaystyle=&quot;false&quot;><mrow><msub><mi>D</mi><mn>2</mn></msub><mo>=</mo><mi>K</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding=&quot;application/x-tex&quot;>      \begin{matrix}W_2=(W_1-F+2P)/S+1 \\H_2=(H_1-F+2P)/S+1 \\D_2=K \\\end{matrix}</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-31" style="width: 12.253em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.584em, 1011.95em, 6.837em, -999.997em); top: -4.958em; left: 0em;"><span class="mrow" id="MathJax-Span-32"><span style="display: inline-block; position: relative; width: 12em; height: 0px;"><span style="position: absolute; clip: rect(2.584em, 1011.95em, 6.837em, -999.997em); top: -4.958em; left: 0em;"><span class="semantics" id="MathJax-Span-33"><span class="mtable" id="MathJax-Span-34" style="padding-right: 0.154em; padding-left: 0.154em;"><span style="display: inline-block; position: relative; width: 12em; height: 0px;"><span style="position: absolute; clip: rect(2.534em, 1011.95em, 6.685em, -999.997em); top: -4.857em; left: 0em;"><span style="display: inline-block; position: relative; width: 12em; height: 0px;"><span style="position: absolute; width: 100%; clip: rect(3.091em, 1011.95em, 4.407em, -999.997em); top: -5.414em; left: 0em;"><span class="mtd" id="MathJax-Span-35"><span class="mrow" id="MathJax-Span-36"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1011.95em, 4.407em, -999.997em); top: -3.997em; left: 50%; margin-left: -6.022em;"><span class="mstyle" id="MathJax-Span-37"><span class="mrow" id="MathJax-Span-38"><span class="mrow" id="MathJax-Span-39"><span class="msub" id="MathJax-Span-40"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-41" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-42" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-43" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mo" id="MathJax-Span-44" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="msub" id="MathJax-Span-45"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-46" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-47" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-48" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mi" id="MathJax-Span-49" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-50" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-51" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-52" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-53" style="font-family: MathJax_Main;">)</span><span class="mi" id="MathJax-Span-54" style="font-family: MathJax_Main;">/</span><span class="mi" id="MathJax-Span-55" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-56" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-57" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; width: 100%; clip: rect(3.091em, 1011.75em, 4.407em, -999.997em); top: -3.946em; left: 0em;"><span class="mtd" id="MathJax-Span-58"><span class="mrow" id="MathJax-Span-59"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1011.75em, 4.407em, -999.997em); top: -3.997em; left: 50%; margin-left: -5.92em;"><span class="mstyle" id="MathJax-Span-60"><span class="mrow" id="MathJax-Span-61"><span class="mrow" id="MathJax-Span-62"><span class="msub" id="MathJax-Span-63"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-64" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.812em;"><span class="mn" id="MathJax-Span-65" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-66" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mo" id="MathJax-Span-67" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="msub" id="MathJax-Span-68"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-69" style="font-family: MathJax_Math-italic;">H<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.812em;"><span class="mn" id="MathJax-Span-70" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-71" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mi" id="MathJax-Span-72" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-73" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-74" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-75" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-76" style="font-family: MathJax_Main;">)</span><span class="mi" id="MathJax-Span-77" style="font-family: MathJax_Main;">/</span><span class="mi" id="MathJax-Span-78" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-79" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-80" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; width: 100%; clip: rect(3.192em, 1003.45em, 4.305em, -999.997em); top: -2.478em; left: 0em;"><span class="mtd" id="MathJax-Span-81"><span class="mrow" id="MathJax-Span-82"><span style="display: inline-block; position: relative; width: 100%; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1003.45em, 4.305em, -999.997em); top: -3.997em; left: 50%; margin-left: -1.719em;"><span class="mstyle" id="MathJax-Span-83"><span class="mrow" id="MathJax-Span-84"><span class="mrow" id="MathJax-Span-85"><span class="msub" id="MathJax-Span-86"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.81em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-87" style="font-family: MathJax_Math-italic;">D</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.812em;"><span class="mn" id="MathJax-Span-88" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-89" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-90" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.862em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.964em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.964em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -1.805em; border-left: 0px solid; width: 0px; height: 4.133em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mtable><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi mathvariant="normal">/</mi><mi>S</mi><mo>+</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>H</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><msub><mi>H</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi mathvariant="normal">/</mi><mi>S</mi><mo>+</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>D</mi><mn>2</mn></msub><mo>=</mo><mi>K</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">      \begin{matrix}W_2=(W_1-F+2P)/S+1 \\H_2=(H_1-F+2P)/S+1 \\D_2=K \\\end{matrix}</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-3"><math><semantics><mtable><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi mathvariant="normal">/</mi><mi>S</mi><mo>+</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>H</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><msub><mi>H</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi mathvariant="normal">/</mi><mi>S</mi><mo>+</mo><mn>1</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel="0" displaystyle="false"><mrow><msub><mi>D</mi><mn>2</mn></msub><mo>=</mo><mi>K</mi></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">
        \begin{matrix}
        W_2=(W_1-F+2P)/S+1 \\
        H_2=(H_1-F+2P)/S+1 \\
        D_2=K \\
        \end{matrix}
</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 3.6em; vertical-align: -1.55em;"></span><span class="mord"><span class="mtable"><span class="col-align-c"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 2.05em;"><span class="" style="top: -4.21em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span></span></span><span class="" style="top: -3.01em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathit" style="margin-right: 0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.08125em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.08125em;">H</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.08125em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mord">1</span></span></span><span class="" style="top: -1.81em;"><span class="pstrut" style="height: 3em;"></span><span class="mord"><span class="mord"><span class="mord mathit" style="margin-right: 0.02778em;">D</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.02778em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mord mathit" style="margin-right: 0.07153em;">K</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 1.55em;"><span class=""></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>  一般说来，当步长S=1时，零填充的值是P=(F-1)/2，这样就能保证输入和输出数据体有相同的空间尺寸。</p>
<p>  但是这里有一点需要注意，对于某一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-91" style="width: 1.42em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-92"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-93"><span class="mrow" id="MathJax-Span-94"><span class="msub" id="MathJax-Span-95"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-96" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-97" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">      W_1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-4"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">W_1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，如果 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>&amp;#x2212;</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1-F+2P</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-98" style="width: 5.925em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.774em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1005.77em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-99"><span style="display: inline-block; position: relative; width: 5.774em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1005.77em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-100"><span class="mrow" id="MathJax-Span-101"><span class="msub" id="MathJax-Span-102"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-103" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-104" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-105" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mi" id="MathJax-Span-106" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-107" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-108" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-109" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi></mrow><annotation encoding="application/x-tex">      W_1-F+2P</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-5"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi></mrow><annotation encoding="application/x-tex">W_1-F+2P</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span></span></span></span></span> 满足是 s 的整数倍，那么这时将输入增大到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-6-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>3</mn></msub><mo>=</mo><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><mi>a</mi><mo separator=&quot;true&quot;>,</mo><mi>a</mi><mo>&amp;#x2208;</mo><mo>(</mo><mn>0</mn><mo separator=&quot;true&quot;>,</mo><mn>1</mn><mo separator=&quot;true&quot;>,</mo><mo>&amp;#x2026;</mo><mo separator=&quot;true&quot;>,</mo><mi>s</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_3=W_1+a,a\in (0,1,&amp;#x2026;,s-1)</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-110" style="width: 14.734em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.43em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1014.38em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-111"><span style="display: inline-block; position: relative; width: 14.43em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1014.38em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-112"><span class="mrow" id="MathJax-Span-113"><span class="msub" id="MathJax-Span-114"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-115" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-116" style="font-size: 70.7%; font-family: MathJax_Main;">3</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-117" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="msub" id="MathJax-Span-118" style="padding-left: 0.256em;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-119" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-120" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-121" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-122" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">a</span><span class="mo" id="MathJax-Span-123" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-124" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">a</span><span class="mo" id="MathJax-Span-125" style="font-family: MathJax_Main; padding-left: 0.256em;">∈</span><span class="mo" id="MathJax-Span-126" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="mn" id="MathJax-Span-127" style="font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-128" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-129" style="font-family: MathJax_Main; padding-left: 0.154em;">1</span><span class="mo" id="MathJax-Span-130" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-131" style="font-family: MathJax_Main; padding-left: 0.154em;">…</span><span class="mo" id="MathJax-Span-132" style="font-family: MathJax_Main; padding-left: 0.154em;">,</span><span class="mi" id="MathJax-Span-133" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">s</span><span class="mo" id="MathJax-Span-134" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-135" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-136" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>3</mn></msub><mo>=</mo><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><mi>a</mi><mo separator="true">,</mo><mi>a</mi><mo>∈</mo><mo>(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>s</mi><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">      W_3=W_1+a,a\in (0,1,…,s-1)</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-6"><math><semantics><mrow><msub><mi>W</mi><mn>3</mn></msub><mo>=</mo><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><mi>a</mi><mo separator="true">,</mo><mi>a</mi><mo>∈</mo><mo>(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>s</mi><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">W_3=W_1+a,a\in (0,1,…,s-1)</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.73354em; vertical-align: -0.19444em;"></span><span class="mord mathit">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathit">a</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>，那么都会输出与原来一样大小的 feature map。这个虽然对卷积的影响并不是很大，但是会使得转置卷积的计算变得复杂。</p>
<h2><a name="t3"></a><a id="13_s1__23" target="_blank"></a>1.3 s&gt;1 的卷积</h2>
<p>  假设现在输入的特征图 (input feature map) 的大小是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-7-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>5</mn><mo>&amp;#xD7;</mo><mn>5</mn><mo>&amp;#xD7;</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      5\times5\times1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-137" style="width: 4.002em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.9em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1003.8em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-138"><span style="display: inline-block; position: relative; width: 3.9em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1003.8em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-139"><span class="mrow" id="MathJax-Span-140"><span class="mn" id="MathJax-Span-141" style="font-family: MathJax_Main;">5</span><span class="mo" id="MathJax-Span-142" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-143" style="font-family: MathJax_Main; padding-left: 0.205em;">5</span><span class="mo" id="MathJax-Span-144" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-145" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>×</mo><mn>5</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      5\times5\times1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-7"><math><semantics><mrow><mn>5</mn><mo>×</mo><mn>5</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">5\times5\times1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>，使用一个大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-8-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>3</mn><mo>&amp;#xD7;</mo><mn>3</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      3\times3</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-146" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-147"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-148"><span class="mrow" id="MathJax-Span-149"><span class="mn" id="MathJax-Span-150" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-151" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-152" style="font-family: MathJax_Main; padding-left: 0.205em;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">      3\times3</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-8"><math><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3\times3</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span> 的卷积核进行步长为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-9-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      s=2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-153" style="width: 2.331em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-154"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-155"><span class="mrow" id="MathJax-Span-156"><span class="mi" id="MathJax-Span-157" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-158" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-159" style="font-family: MathJax_Main; padding-left: 0.256em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      s=2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-9"><math><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">s=2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 的卷积，将会得到如下图中左侧的结果<br>
<img src="https://img-blog.csdn.net/20181017152741297?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181017152741297?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"><br>
其中蓝色的部分是输入，绿色的部分是输出，所以经过卷积后会产生一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-10-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>2</mn><mo>&amp;#xD7;</mo><mn>2</mn><mo>&amp;#xD7;</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      2\times2\times1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-160" style="width: 4.002em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.9em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1003.8em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-161"><span style="display: inline-block; position: relative; width: 3.9em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1003.8em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-162"><span class="mrow" id="MathJax-Span-163"><span class="mn" id="MathJax-Span-164" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-165" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-166" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mo" id="MathJax-Span-167" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-168" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      2\times2\times1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-10"><math><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2\times2\times1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 的 output feature map。步长为 1 的卷积很好理解，对于步长为2的卷积我们可以以内核的增量为 1 ，只有 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-11-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      s=2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-169" style="width: 2.331em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-170"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-171"><span class="mrow" id="MathJax-Span-172"><span class="mi" id="MathJax-Span-173" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-174" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-175" style="font-family: MathJax_Main; padding-left: 0.256em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      s=2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-11"><math><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">s=2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 的对应部分才会被保留。如上图的右侧所示，用一种比较好理解的方式就是，步长为 2 的卷积，可以理解为在步长为 1 的卷积输出的 feature 上（上图右半部分绿色整体）进行 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-12-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      s=2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-176" style="width: 2.331em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-177"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-178"><span class="mrow" id="MathJax-Span-179"><span class="mi" id="MathJax-Span-180" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-181" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-182" style="font-family: MathJax_Main; padding-left: 0.256em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      s=2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-12"><math><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">s=2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 的采样（未画叉的部分为采样部分），因此可以将它也认为是下采样的一种。</p>
<h2><a name="t4"></a><a id="14_s1__pooling__27" target="_blank"></a>1.4 s&gt;1 的卷积与 pooling 之间的关系</h2>
<p>  在上面那节我们了解到，步长大于1的卷积可以理解为在步长为1的卷积的 feature 上进行下采样的过程；然而我们又知道 pooling 也是一种下采样的方法，所以两者之间到底有什么关系呢？如下图所示<br>
<img src="https://img-blog.csdn.net/20181017170901562?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181017170901562?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"></p>
<p>假设现在输入的特征图 (input feature map) 的大小是 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-13-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>7</mn><mo>&amp;#xD7;</mo><mn>7</mn><mo>&amp;#xD7;</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      7\times7\times1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-183" style="width: 4.002em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.9em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1003.8em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-184"><span style="display: inline-block; position: relative; width: 3.9em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1003.8em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-185"><span class="mrow" id="MathJax-Span-186"><span class="mn" id="MathJax-Span-187" style="font-family: MathJax_Main;">7</span><span class="mo" id="MathJax-Span-188" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-189" style="font-family: MathJax_Main; padding-left: 0.205em;">7</span><span class="mo" id="MathJax-Span-190" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-191" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>7</mn><mo>×</mo><mn>7</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      7\times7\times1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-13"><math><semantics><mrow><mn>7</mn><mo>×</mo><mn>7</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">7\times7\times1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">7</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">7</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>，使用一个大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-14-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>3</mn><mo>&amp;#xD7;</mo><mn>3</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      3\times3</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-192" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-193"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-194"><span class="mrow" id="MathJax-Span-195"><span class="mn" id="MathJax-Span-196" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-197" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-198" style="font-family: MathJax_Main; padding-left: 0.205em;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">      3\times3</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-14"><math><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3\times3</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span> 的卷积核进行步长为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-15-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      s=2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-199" style="width: 2.331em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-200"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-201"><span class="mrow" id="MathJax-Span-202"><span class="mi" id="MathJax-Span-203" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-204" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-205" style="font-family: MathJax_Main; padding-left: 0.256em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      s=2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-15"><math><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">s=2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 的卷积。如上图所示，中间绿色的部分是对原始图像进行步长为 1 的卷积得到的结果。对于 s=2 的卷积，相当于在步长为1的卷积的输出结果上（绿色的部分）每隔一个点采样一次，我们可以想想绿色的那部分，被若干个红色的框不重复的覆盖，然后每次采样都是在左上角的位置进行采样。所以 <strong>s&gt;1 的卷积可以认为是一种在步长为 1 的卷积的 output feature map 上进行等间距采样的过程</strong>。</p>
<p>  在上图中下半部分，我们也可以想想绿色的那部分，被若干个红色的框不重复的覆盖，但这次不是采样左上角的位置，而是这个红色矩形框中最大值的位置。所以都是下采样，<strong>但是 maxpooling 不会是那种等间距的采样</strong>。</p>
<p>  另一个值得思考的问题是，两者虽然都是下采样，但是输出的 feature 的大小却不相同。这是因为对于奇数大小边长的 feature 没有办法进行步长为 2 下采样，所以在这里我们假设它输出的是一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-16-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>2</mn><mo>&amp;#xD7;</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      2\times2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-206" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-207"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-208"><span class="mrow" id="MathJax-Span-209"><span class="mn" id="MathJax-Span-210" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-211" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-212" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      2\times2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-16"><math><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2\times2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 大小的 feature。<strong>一个很自然的想法，有没有可能让步长为 2 的卷积的输出结果和步长为1的卷积再经过 maxpooling 的输出结果，尺寸相等？很遗憾，在卷积核大小不变的情况下是不可能的。</strong> 具体原因如下</p>
<p>  我们假设 input feature map 的大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-17-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>W</mi><mo>&amp;#xD7;</mo><mi>W</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      W\times W</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-213" style="width: 3.394em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.293em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1003.29em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-214"><span style="display: inline-block; position: relative; width: 3.293em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1003.29em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-215"><span class="mrow" id="MathJax-Span-216"><span class="mi" id="MathJax-Span-217" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-218" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mi" id="MathJax-Span-219" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>W</mi><mo>×</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">      W\times W</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-17"><math><semantics><mrow><mi>W</mi><mo>×</mo><mi>W</mi></mrow><annotation encoding="application/x-tex">W\times W</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">W</span></span></span></span></span>，卷积核的大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-18-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>K</mi><mn>1</mn></msub><mo>&amp;#xD7;</mo><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      K_1\times K_1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-220" style="width: 3.85em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.749em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1003.75em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-221"><span style="display: inline-block; position: relative; width: 3.749em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1003.75em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-222"><span class="mrow" id="MathJax-Span-223"><span class="msub" id="MathJax-Span-224"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-225" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-226" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-227" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="msub" id="MathJax-Span-228" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-229" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-230" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mn>1</mn></msub><mo>×</mo><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">      K_1\times K_1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-18"><math><semantics><mrow><msub><mi>K</mi><mn>1</mn></msub><mo>×</mo><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">K_1\times K_1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，padding 的大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-19-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      P_1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-231" style="width: 1.116em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-232"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-233"><span class="mrow" id="MathJax-Span-234"><span class="msub" id="MathJax-Span-235"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-236" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-237" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">      P_1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-19"><math><semantics><mrow><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">P_1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，则 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-20-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub><mo>=</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      S_1=2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-238" style="width: 2.888em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.837em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.141em, 1002.79em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-239"><span style="display: inline-block; position: relative; width: 2.837em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1002.79em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-240"><span class="mrow" id="MathJax-Span-241"><span class="msub" id="MathJax-Span-242"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.66em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-243" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.61em;"><span class="mn" id="MathJax-Span-244" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-245" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-246" style="font-family: MathJax_Main; padding-left: 0.256em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.984em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      S_1=2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-20"><math><semantics><mrow><msub><mi>S</mi><mn>1</mn></msub><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">S_1=2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 的卷积输出尺寸如下所示<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-21-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mo>(</mo><mi>W</mi><mo>&amp;#x2212;</mo><msub><mi>K</mi><mn>1</mn></msub><mo>+</mo><mn>2</mn><msub><mi>P</mi><mn>1</mn></msub><mo>)</mo><mi mathvariant=&quot;normal&quot;>/</mi><mn>2</mn><mo>+</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1=(W -K_1+2P_1)/2+1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-247" style="width: 12.658em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.405em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1012.35em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-248"><span style="display: inline-block; position: relative; width: 12.405em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1012.35em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-249"><span class="mrow" id="MathJax-Span-250"><span class="msub" id="MathJax-Span-251"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-252" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-253" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-254" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mo" id="MathJax-Span-255" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="mi" id="MathJax-Span-256" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-257" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="msub" id="MathJax-Span-258" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-259" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-260" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-261" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-262" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="msub" id="MathJax-Span-263"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-264" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-265" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-266" style="font-family: MathJax_Main;">)</span><span class="mi" id="MathJax-Span-267" style="font-family: MathJax_Main;">/</span><span class="mn" id="MathJax-Span-268" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-269" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-270" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mo>(</mo><mi>W</mi><mo>−</mo><msub><mi>K</mi><mn>1</mn></msub><mo>+</mo><mn>2</mn><msub><mi>P</mi><mn>1</mn></msub><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      W_1=(W -K_1+2P_1)/2+1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-21"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mo>(</mo><mi>W</mi><mo>−</mo><msub><mi>K</mi><mn>1</mn></msub><mo>+</mo><mn>2</mn><msub><mi>P</mi><mn>1</mn></msub><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_1=(W -K_1+2P_1)/2+1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span></span><br>
对于卷积核大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-22-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>&amp;#xD7;</mo><msub><mi>K</mi><mn>2</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      K_2\times K_2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-271" style="width: 3.85em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.749em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1003.75em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-272"><span style="display: inline-block; position: relative; width: 3.749em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1003.75em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-273"><span class="mrow" id="MathJax-Span-274"><span class="msub" id="MathJax-Span-275"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-276" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-277" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-278" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="msub" id="MathJax-Span-279" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-280" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-281" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>×</mo><msub><mi>K</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">      K_2\times K_2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-22"><math><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>×</mo><msub><mi>K</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">K_2\times K_2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，padding 的大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-23-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      P_2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-282" style="width: 1.116em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-283"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-284"><span class="mrow" id="MathJax-Span-285"><span class="msub" id="MathJax-Span-286"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-287" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-288" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">      P_2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-23"><math><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">P_2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，则 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-24-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      S_2=1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-289" style="width: 2.888em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.837em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.141em, 1002.74em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-290"><span style="display: inline-block; position: relative; width: 2.837em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1002.74em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-291"><span class="mrow" id="MathJax-Span-292"><span class="msub" id="MathJax-Span-293"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.66em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-294" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.61em;"><span class="mn" id="MathJax-Span-295" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-296" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-297" style="font-family: MathJax_Main; padding-left: 0.256em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.984em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      S_2=1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-24"><math><semantics><mrow><msub><mi>S</mi><mn>2</mn></msub><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">S_2=1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.05764em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 的卷积，再经过 maxpooling 的结果为<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-25-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><mi>W</mi><mo>&amp;#x2212;</mo><msub><mi>K</mi><mn>2</mn></msub><mo>+</mo><mn>2</mn><msub><mi>P</mi><mn>2</mn></msub><mo>+</mo><mn>1</mn><mo>)</mo><mi mathvariant=&quot;normal&quot;>/</mi><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_2=(W -K_2+2P_2+1)/2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-298" style="width: 12.658em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.405em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1012.35em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-299"><span style="display: inline-block; position: relative; width: 12.405em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1012.35em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-300"><span class="mrow" id="MathJax-Span-301"><span class="msub" id="MathJax-Span-302"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-303" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-304" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-305" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mo" id="MathJax-Span-306" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="mi" id="MathJax-Span-307" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-308" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="msub" id="MathJax-Span-309" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-310" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-311" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-312" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-313" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="msub" id="MathJax-Span-314"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-315" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-316" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-317" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-318" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-319" style="font-family: MathJax_Main;">)</span><span class="mi" id="MathJax-Span-320" style="font-family: MathJax_Main;">/</span><span class="mn" id="MathJax-Span-321" style="font-family: MathJax_Main;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><mi>W</mi><mo>−</mo><msub><mi>K</mi><mn>2</mn></msub><mo>+</mo><mn>2</mn><msub><mi>P</mi><mn>2</mn></msub><mo>+</mo><mn>1</mn><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">      W_2=(W -K_2+2P_2+1)/2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-25"><math><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><mi>W</mi><mo>−</mo><msub><mi>K</mi><mn>2</mn></msub><mo>+</mo><mn>2</mn><msub><mi>P</mi><mn>2</mn></msub><mo>+</mo><mn>1</mn><mo>)</mo><mi mathvariant="normal">/</mi><mn>2</mn></mrow><annotation encoding="application/x-tex">W_2=(W -K_2+2P_2+1)/2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord">2</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mord">/</span><span class="mord">2</span></span></span></span></span></span><br>
如果另 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-26-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><msub><mi>W</mi><mn>2</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1=W_2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-322" style="width: 4.154em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.052em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1004.05em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-323"><span style="display: inline-block; position: relative; width: 4.052em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1004.05em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-324"><span class="mrow" id="MathJax-Span-325"><span class="msub" id="MathJax-Span-326"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-327" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-328" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-329" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="msub" id="MathJax-Span-330" style="padding-left: 0.256em;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-331" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-332" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><msub><mi>W</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">      W_1=W_2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-26"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><msub><mi>W</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">W_1=W_2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，则会得到如下的关系式<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-27-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>&amp;#x2212;</mo><msub><mi>K</mi><mn>1</mn></msub><mo>+</mo><mn>1</mn><mo>=</mo><mn>2</mn><mo>(</mo><msub><mi>P</mi><mn>2</mn></msub><mo>&amp;#x2212;</mo><msub><mi>P</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding=&quot;application/x-tex&quot;>      K_2-K_1+1=2(P_2-P_1)</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-333" style="width: 11.595em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.342em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1011.24em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-334"><span style="display: inline-block; position: relative; width: 11.342em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1011.24em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-335"><span class="mrow" id="MathJax-Span-336"><span class="msub" id="MathJax-Span-337"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-338" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-339" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-340" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="msub" id="MathJax-Span-341" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-342" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-343" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-344" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-345" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-346" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-347" style="font-family: MathJax_Main; padding-left: 0.256em;">2</span><span class="mo" id="MathJax-Span-348" style="font-family: MathJax_Main;">(</span><span class="msub" id="MathJax-Span-349"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-350" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-351" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-352" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="msub" id="MathJax-Span-353" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-354" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-355" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-356" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>−</mo><msub><mi>K</mi><mn>1</mn></msub><mo>+</mo><mn>1</mn><mo>=</mo><mn>2</mn><mo>(</mo><msub><mi>P</mi><mn>2</mn></msub><mo>−</mo><msub><mi>P</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">      K_2-K_1+1=2(P_2-P_1)</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-27"><math><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>−</mo><msub><mi>K</mi><mn>1</mn></msub><mo>+</mo><mn>1</mn><mo>=</mo><mn>2</mn><mo>(</mo><msub><mi>P</mi><mn>2</mn></msub><mo>−</mo><msub><mi>P</mi><mn>1</mn></msub><mo>)</mo></mrow><annotation encoding="application/x-tex">K_2-K_1+1=2(P_2-P_1)</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span></span></span></span></span></span><br>
如果令 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-28-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>=</mo><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      K_2=K_1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-357" style="width: 3.951em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.85em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1003.85em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-358"><span style="display: inline-block; position: relative; width: 3.85em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1003.85em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-359"><span class="mrow" id="MathJax-Span-360"><span class="msub" id="MathJax-Span-361"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-362" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-363" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-364" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="msub" id="MathJax-Span-365" style="padding-left: 0.256em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-366" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-367" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>=</mo><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">      K_2=K_1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-28"><math><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>=</mo><msub><mi>K</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">K_2=K_1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，则<span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-29-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>2</mn><mo>(</mo><msub><mi>P</mi><mn>2</mn></msub><mo>&amp;#x2212;</mo><msub><mi>P</mi><mn>1</mn></msub><mo>)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      2(P_2-P_1)=1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-368" style="width: 6.533em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.381em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1006.33em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-369"><span style="display: inline-block; position: relative; width: 6.381em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1006.33em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-370"><span class="mrow" id="MathJax-Span-371"><span class="mn" id="MathJax-Span-372" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-373" style="font-family: MathJax_Main;">(</span><span class="msub" id="MathJax-Span-374"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-375" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-376" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-377" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="msub" id="MathJax-Span-378" style="padding-left: 0.205em;"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-379" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-380" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-381" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-382" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-383" style="font-family: MathJax_Main; padding-left: 0.256em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>(</mo><msub><mi>P</mi><mn>2</mn></msub><mo>−</mo><msub><mi>P</mi><mn>1</mn></msub><mo>)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      2(P_2-P_1)=1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-29"><math><semantics><mrow><mn>2</mn><mo>(</mo><msub><mi>P</mi><mn>2</mn></msub><mo>−</mo><msub><mi>P</mi><mn>1</mn></msub><mo>)</mo><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">2(P_2-P_1)=1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>，这明显是不可能的；如果令 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-30-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub><mo>=</mo><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      P_2=P_1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-384" style="width: 3.546em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.445em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1003.45em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-385"><span style="display: inline-block; position: relative; width: 3.445em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1003.45em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-386"><span class="mrow" id="MathJax-Span-387"><span class="msub" id="MathJax-Span-388"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-389" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-390" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-391" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="msub" id="MathJax-Span-392" style="padding-left: 0.256em;"><span style="display: inline-block; position: relative; width: 1.066em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-393" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.661em;"><span class="mn" id="MathJax-Span-394" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub><mo>=</mo><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">      P_2=P_1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-30"><math><semantics><mrow><msub><mi>P</mi><mn>2</mn></msub><mo>=</mo><msub><mi>P</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">P_2=P_1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，则<span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-31-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>=</mo><msub><mi>K</mi><mn>1</mn></msub><mo>&amp;#x2212;</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      K_2=K_1-1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-395" style="width: 5.622em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.52em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1005.47em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-396"><span style="display: inline-block; position: relative; width: 5.52em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1005.47em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-397"><span class="mrow" id="MathJax-Span-398"><span class="msub" id="MathJax-Span-399"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-400" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-401" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-402" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="msub" id="MathJax-Span-403" style="padding-left: 0.256em;"><span style="display: inline-block; position: relative; width: 1.268em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.91em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-404" style="font-family: MathJax_Math-italic;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.863em;"><span class="mn" id="MathJax-Span-405" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-406" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-407" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>=</mo><msub><mi>K</mi><mn>1</mn></msub><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      K_2=K_1-1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-31"><math><semantics><mrow><msub><mi>K</mi><mn>2</mn></msub><mo>=</mo><msub><mi>K</mi><mn>1</mn></msub><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">K_2=K_1-1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.07153em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>，这就意味着在两个卷积核中有一个卷积核是偶数，但是偶数的卷积核在实际应用中很少见到。只有当卷积核的大小和 pading 的大小均不相等时，才会得到的相等大小的输出。</p>
<h1><a name="t5"></a><a id="2__45" target="_blank"></a>2. 转置卷积</h1>
<p>  转置卷积常常用于自编码器中的解码器部分，或者将 feature 映射到高维。</p>
<h2><a name="t6"></a><a id="21__47" target="_blank"></a>2.1 将卷积转化为矩阵相乘</h2>
<p>  我们可以将图像的卷积过程转变成矩阵相乘的过程，比如说下面的这个卷积的过程<br>
<img src="https://img-blog.csdn.net/20181017220744712?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181017220744712?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"><br>
上图中最左边的是一个卷积核，中间的是一个原始的卷积过程，蓝色部分 (4<em>4) 是输入 input feature map ，而绿色部分 (2</em>2) 是输出 output feature map 部分，其中深蓝色对应一个卷积核的大小 (3*3) ，上面的卷积的过程共经历 4 次卷积。</p>
<p>  假如我们将原始图像按照上图中最右边所标注的顺序展开为列向量，并记为向量 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-32-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>X</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      X</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-408" style="width: 0.914em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1000.86em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-409"><span style="display: inline-block; position: relative; width: 0.863em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.86em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-410"><span class="mrow" id="MathJax-Span-411"><span class="mi" id="MathJax-Span-412" style="font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">      X</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-32"><math><semantics><mrow><mi>X</mi></mrow><annotation encoding="application/x-tex">X</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.07847em;">X</span></span></span></span></span> ，将得到的向量式的 feature map 作为输出并记为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-33-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>Y</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      Y</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-413" style="width: 0.812em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-414"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-415"><span class="mrow" id="MathJax-Span-416"><span class="mi" id="MathJax-Span-417" style="font-family: MathJax_Math-italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.205em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">      Y</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-33"><math><semantics><mrow><mi>Y</mi></mrow><annotation encoding="application/x-tex">Y</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.22222em;">Y</span></span></span></span></span>，则卷积的过程可以表示如下的这种形式<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-34-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>Y</mi><mo>=</mo><mi>C</mi><mi>X</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      Y=CX</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-418" style="width: 3.749em; display: inline-block;"><span style="display: inline-block; position: relative; width: 3.647em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.141em, 1003.65em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-419"><span style="display: inline-block; position: relative; width: 3.647em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1003.65em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-420"><span class="mrow" id="MathJax-Span-421"><span class="mi" id="MathJax-Span-422" style="font-family: MathJax_Math-italic;">Y<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.205em;"></span></span><span class="mo" id="MathJax-Span-423" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-424" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mi" id="MathJax-Span-425" style="font-family: MathJax_Math-italic;">X<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>Y</mi><mo>=</mo><mi>C</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">      Y=CX</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-34"><math><semantics><mrow><mi>Y</mi><mo>=</mo><mi>C</mi><mi>X</mi></mrow><annotation encoding="application/x-tex">Y=CX</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.22222em;">Y</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="mord mathit" style="margin-right: 0.07847em;">X</span></span></span></span></span></span><br>
其中的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-35-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>C</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      C</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-426" style="width: 0.812em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-427"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-428"><span class="mrow" id="MathJax-Span-429"><span class="mi" id="MathJax-Span-430" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">      C</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-35"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.07153em;">C</span></span></span></span></span> 如下所示<br>
<img src="https://img-blog.csdn.net/20181017215726823?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181017215726823?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"></p>
<p>  以矩阵 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-36-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>C</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      C</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-431" style="width: 0.812em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-432"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-433"><span class="mrow" id="MathJax-Span-434"><span class="mi" id="MathJax-Span-435" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">      C</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-36"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.07153em;">C</span></span></span></span></span> 的第一行为例，其实非零权重的位置与上图左右边标注的位置是一样的；同理第二行与第二次卷积运算是一样的……。经过上面的运算我们会得到一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-37-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>4</mn><mo>&amp;#xD7;</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      4\times1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-436" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-437"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-438"><span class="mrow" id="MathJax-Span-439"><span class="mn" id="MathJax-Span-440" style="font-family: MathJax_Main;">4</span><span class="mo" id="MathJax-Span-441" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-442" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      4\times1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-37"><math><semantics><mrow><mn>4</mn><mo>×</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">4\times1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 大小的向量，将这个向量按照展开图像的反向顺序，重构成为一个矩阵，即可得到卷积所对应的输出。</p>
<p>  这样，<strong>卷积的过程就转变为了一个稀疏的权重矩阵与一个图像向量相乘的过程</strong>。</p>
<h2><a name="t7"></a><a id="22__61" target="_blank"></a>2.2 卷积的前向传播和反向传播</h2>
<p>  因为通过上面 2.1 的知识卷积可以表示为如上的矩阵相乘的形式，关于卷积的求导很容易通过下面这种方式进行，这里主要引用了[2] 的求导过程，十分感谢</p>
<p><img src="https://img-blog.csdn.net/20181019104051219?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181019104051219?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"></p>
<p>  <strong>所以我们可以知道，通过卷积核可以定义两个矩阵，一个是对应前向传播的矩阵 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-38-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>C</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      C</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-443" style="width: 0.812em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-444"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-445"><span class="mrow" id="MathJax-Span-446"><span class="mi" id="MathJax-Span-447" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">      C</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-38"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.07153em;">C</span></span></span></span></span> ，另一个是对应反向传播的矩阵  <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-39-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msup><mi>C</mi><mi>T</mi></msup></mrow><annotation encoding=&quot;application/x-tex&quot;>      C^T</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-448" style="width: 1.471em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.989em, 1001.42em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-449"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(2.989em, 1001.42em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-450"><span class="mrow" id="MathJax-Span-451"><span class="msup" id="MathJax-Span-452"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-453" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -4.351em; left: 0.812em;"><span class="mi" id="MathJax-Span-454" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.984em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">      C^T</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-39"><math><semantics><mrow><msup><mi>C</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">C^T</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.841331em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.841331em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span></strong> 。</p>
<h2><a name="t8"></a><a id="23__67" target="_blank"></a>2.3 转置卷积</h2>
<p>  <strong>转置卷积是通过交换前向传播与反向传播得到的</strong>。还有一种说法是核定义了卷积，但是它定的是直接卷积还是转置卷积是由前向和反向的计算方式得到的。所以定义分别乘以 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-40-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>C</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      C</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-455" style="width: 0.812em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-456"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-457"><span class="mrow" id="MathJax-Span-458"><span class="mi" id="MathJax-Span-459" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">      C</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-40"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.07153em;">C</span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-41-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msup><mi>C</mi><mi>T</mi></msup></mrow><annotation encoding=&quot;application/x-tex&quot;>      C^T</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-460" style="width: 1.471em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.989em, 1001.42em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-461"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(2.989em, 1001.42em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-462"><span class="mrow" id="MathJax-Span-463"><span class="msup" id="MathJax-Span-464"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-465" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -4.351em; left: 0.812em;"><span class="mi" id="MathJax-Span-466" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.984em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">      C^T</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-41"><math><semantics><mrow><msup><mi>C</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">C^T</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.841331em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.841331em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span> 来计算前向传播和反向传播的是直接卷积（也就是常说的卷积），使用 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-42-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msup><mi>C</mi><mi>T</mi></msup></mrow><annotation encoding=&quot;application/x-tex&quot;>      C^T</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-467" style="width: 1.471em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.989em, 1001.42em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-468"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(2.989em, 1001.42em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-469"><span class="mrow" id="MathJax-Span-470"><span class="msup" id="MathJax-Span-471"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-472" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -4.351em; left: 0.812em;"><span class="mi" id="MathJax-Span-473" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.984em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>C</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">      C^T</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-42"><math><semantics><mrow><msup><mi>C</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">C^T</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.841331em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.07153em;">C</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.841331em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span> 和 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-43-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>C</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      C</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-474" style="width: 0.812em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-475"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-476"><span class="mrow" id="MathJax-Span-477"><span class="mi" id="MathJax-Span-478" style="font-family: MathJax_Math-italic;">C<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">      C</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-43"><math><semantics><mrow><mi>C</mi></mrow><annotation encoding="application/x-tex">C</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.07153em;">C</span></span></span></span></span> 来计算反向传播和前向传播的是转置卷积。</p>
<p>  <strong>总可以使用直接卷积来模拟转置卷积</strong>，但是由于要在行列之间补零，所以执行的效率会低。通过后面的分析，我们也可以认为，<strong>转置卷积实际上就是卷积</strong>。</p>
<h2><a name="t9"></a><a id="24__72" target="_blank"></a>2.4 转置卷积的计算</h2>
<p>  由 1.2 部分已经知道，卷积神经网络的 out feature map 可以通过下面的等式进行计算<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-44-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><msub><mi>W</mi><mn>1</mn></msub><mo>&amp;#x2212;</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi mathvariant=&quot;normal&quot;>/</mi><mi>S</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_2=(W_1-F+2P)/S+1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-479" style="width: 12.253em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1011.95em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-480"><span style="display: inline-block; position: relative; width: 12em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1011.95em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-481"><span class="mrow" id="MathJax-Span-482"><span class="msub" id="MathJax-Span-483"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-484" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-485" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-486" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mo" id="MathJax-Span-487" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="msub" id="MathJax-Span-488"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-489" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-490" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-491" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mi" id="MathJax-Span-492" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-493" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-494" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-495" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-496" style="font-family: MathJax_Main;">)</span><span class="mi" id="MathJax-Span-497" style="font-family: MathJax_Main;">/</span><span class="mi" id="MathJax-Span-498" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-499" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-500" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi mathvariant="normal">/</mi><mi>S</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      W_2=(W_1-F+2P)/S+1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-44"><math><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>=</mo><mo>(</mo><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi mathvariant="normal">/</mi><mi>S</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">W_2=(W_1-F+2P)/S+1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span></span><br>
这里我们只考虑一条边，因为另外一条边是一样的道理。转置卷积的计算其实很简单，实际上就是求上面那个等式中的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-45-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-501" style="width: 1.42em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-502"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-503"><span class="mrow" id="MathJax-Span-504"><span class="msub" id="MathJax-Span-505"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-506" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-507" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">      W_1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-45"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">W_1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，很容易得到如下的结果<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-46-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo><mo>&amp;#x2212;</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1=S(W_2-1)-2P+F</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-508" style="width: 11.798em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.544em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1011.54em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-509"><span style="display: inline-block; position: relative; width: 11.544em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1011.54em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-510"><span class="mrow" id="MathJax-Span-511"><span class="msub" id="MathJax-Span-512"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-513" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-514" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-515" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-516" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-517" style="font-family: MathJax_Main;">(</span><span class="msub" id="MathJax-Span-518"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-519" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-520" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-521" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-522" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-523" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-524" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-525" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-526" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-527" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-528" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">      W_1=S(W_2-1)-2P+F</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-46"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">W_1=S(W_2-1)-2P+F</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span></span></span></span></span></span></p>
<p>分析上面的表达式我们可以看到，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-47-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-529" style="width: 1.42em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-530"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-531"><span class="mrow" id="MathJax-Span-532"><span class="msub" id="MathJax-Span-533"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-534" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-535" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">      W_2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-47"><math><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">W_2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 的形式与 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-48-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-536" style="width: 1.42em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-537"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-538"><span class="mrow" id="MathJax-Span-539"><span class="msub" id="MathJax-Span-540"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-541" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-542" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">      W_1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-48"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">W_1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 的形式是相同的，当 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-49-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>S</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      S</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-543" style="width: 0.711em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.661em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.141em, 1000.66em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-544"><span style="display: inline-block; position: relative; width: 0.661em; height: 0px;"><span style="position: absolute; clip: rect(3.141em, 1000.66em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-545"><span class="mrow" id="MathJax-Span-546"><span class="mi" id="MathJax-Span-547" style="font-family: MathJax_Math-italic;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">      S</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-49"><math><semantics><mrow><mi>S</mi></mrow><annotation encoding="application/x-tex">S</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.05764em;">S</span></span></span></span></span> 为原来的倒数且 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-50-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>F</mi><mo>&amp;#x2212;</mo><mn>2</mn><mi>P</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      F-2P=1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-548" style="width: 5.065em; display: inline-block;"><span style="display: inline-block; position: relative; width: 4.964em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1004.91em, 4.255em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-549"><span style="display: inline-block; position: relative; width: 4.964em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1004.91em, 4.255em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-550"><span class="mrow" id="MathJax-Span-551"><span class="mi" id="MathJax-Span-552" style="font-family: MathJax_Math-italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-553" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-554" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-555" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-556" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-557" style="font-family: MathJax_Main; padding-left: 0.256em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.152em; border-left: 0px solid; width: 0px; height: 0.88em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi><mo>−</mo><mn>2</mn><mi>P</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      F-2P=1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-50"><math><semantics><mrow><mi>F</mi><mo>−</mo><mn>2</mn><mi>P</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">F-2P=1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span>。这也对应上了上面的结论，总可以使用直接卷积来模拟转置卷积。</p>
<p>  下面我们具体举几个例子来说明转置卷积的计算过程。<br>
<img src="https://img-blog.csdn.net/20181018104956447?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181018104956447?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"><br>
如上图所示，第一行是卷积的过程，第二行是一个反卷积的过程。卷积和转置卷积是一对相关的概念，转置卷积嘛，你总得告诉我你针对谁是转置卷积啊。在上图中，卷积过程是在一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-51-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>4</mn><mo>&amp;#xD7;</mo><mn>4</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      4\times4</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-558" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.18em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-559"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.18em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-560"><span class="mrow" id="MathJax-Span-561"><span class="mn" id="MathJax-Span-562" style="font-family: MathJax_Main;">4</span><span class="mo" id="MathJax-Span-563" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-564" style="font-family: MathJax_Main; padding-left: 0.205em;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>×</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">      4\times4</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-51"><math><semantics><mrow><mn>4</mn><mo>×</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">4\times4</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">4</span></span></span></span></span> 大小，padding =0 的 feature map 上使用一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-52-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>3</mn><mo>&amp;#xD7;</mo><mn>3</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      3\times3</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-565" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-566"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-567"><span class="mrow" id="MathJax-Span-568"><span class="mn" id="MathJax-Span-569" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-570" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-571" style="font-family: MathJax_Main; padding-left: 0.205em;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">      3\times3</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-52"><math><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3\times3</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span> 大小的卷积核进行 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-53-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>s</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      s=1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-572" style="width: 2.331em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.18em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-573"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.18em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-574"><span class="mrow" id="MathJax-Span-575"><span class="mi" id="MathJax-Span-576" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-577" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-578" style="font-family: MathJax_Main; padding-left: 0.256em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      s=1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-53"><math><semantics><mrow><mi>s</mi><mo>=</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">s=1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 的卷积计算，输出的 output feature map 大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-54-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>2</mn><mo>&amp;#xD7;</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      2\times2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-579" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-580"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-581"><span class="mrow" id="MathJax-Span-582"><span class="mn" id="MathJax-Span-583" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-584" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-585" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      2\times2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-54"><math><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2\times2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 。</p>
<p>  这个时候，根据 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-55-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo><mo>&amp;#x2212;</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi><mo>=</mo><mn>1</mn><mo>&amp;#xD7;</mo><mo>(</mo><mn>2</mn><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo><mo>&amp;#x2212;</mo><mn>2</mn><mo>&amp;#xD7;</mo><mn>0</mn><mo>+</mo><mn>3</mn><mo>=</mo><mn>4</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1=S(W_2-1)-2P+F=1\times(2-1)-2\times0+3=4</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-586" style="width: 24.808em; display: inline-block;"><span style="display: inline-block; position: relative; width: 24.301em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1024.3em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-587"><span style="display: inline-block; position: relative; width: 24.301em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1024.3em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-588"><span class="mrow" id="MathJax-Span-589"><span class="msub" id="MathJax-Span-590"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-591" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-592" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-593" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-594" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-595" style="font-family: MathJax_Main;">(</span><span class="msub" id="MathJax-Span-596"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-597" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-598" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-599" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-600" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-601" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-602" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-603" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-604" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-605" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-606" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-607" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-608" style="font-family: MathJax_Main; padding-left: 0.256em;">1</span><span class="mo" id="MathJax-Span-609" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mo" id="MathJax-Span-610" style="font-family: MathJax_Main; padding-left: 0.205em;">(</span><span class="mn" id="MathJax-Span-611" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-612" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-613" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-614" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-615" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-616" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mo" id="MathJax-Span-617" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-618" style="font-family: MathJax_Main; padding-left: 0.205em;">0</span><span class="mo" id="MathJax-Span-619" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-620" style="font-family: MathJax_Main; padding-left: 0.205em;">3</span><span class="mo" id="MathJax-Span-621" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-622" style="font-family: MathJax_Main; padding-left: 0.256em;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi><mo>=</mo><mn>1</mn><mo>×</mo><mo>(</mo><mn>2</mn><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mo>×</mo><mn>0</mn><mo>+</mo><mn>3</mn><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">      W_1=S(W_2-1)-2P+F=1\times(2-1)-2\times0+3=4</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-55"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi><mo>=</mo><mn>1</mn><mo>×</mo><mo>(</mo><mn>2</mn><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mo>×</mo><mn>0</mn><mo>+</mo><mn>3</mn><mo>=</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">W_1=S(W_2-1)-2P+F=1\times(2-1)-2\times0+3=4</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">4</span></span></span></span></span> 可知输出的 output feature map 的大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-56-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>4</mn><mo>&amp;#xD7;</mo><mn>4</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      4\times4</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-623" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.18em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-624"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.18em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-625"><span class="mrow" id="MathJax-Span-626"><span class="mn" id="MathJax-Span-627" style="font-family: MathJax_Main;">4</span><span class="mo" id="MathJax-Span-628" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-629" style="font-family: MathJax_Main; padding-left: 0.205em;">4</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>4</mn><mo>×</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">      4\times4</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-56"><math><semantics><mrow><mn>4</mn><mo>×</mo><mn>4</mn></mrow><annotation encoding="application/x-tex">4\times4</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">4</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">4</span></span></span></span></span>。但是需要注意的是这里根据 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-57-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo><mo>&amp;#x2212;</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1=S(W_2-1)-2P+F</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-630" style="width: 11.798em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.544em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1011.54em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-631"><span style="display: inline-block; position: relative; width: 11.544em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1011.54em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-632"><span class="mrow" id="MathJax-Span-633"><span class="msub" id="MathJax-Span-634"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-635" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-636" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-637" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-638" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-639" style="font-family: MathJax_Main;">(</span><span class="msub" id="MathJax-Span-640"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-641" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-642" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-643" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-644" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-645" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-646" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-647" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-648" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-649" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-650" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">      W_1=S(W_2-1)-2P+F</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-57"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi></mrow><annotation encoding="application/x-tex">W_1=S(W_2-1)-2P+F</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span></span></span></span></span> 计算只是输出 feature map 的大小。如果将转置卷积以卷积的形式实现出来，那么它与上图中第二行是相对应的，卷积核与步长与原来相等，步长为原来的倒数，但是的 padding 值需要通过下面这种方式计算<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-58-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msup><mi>P</mi><mi>T</mi></msup><mo>=</mo><mi>F</mi><mo>&amp;#x2212;</mo><mi>P</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      P^T=F-P-1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-651" style="width: 7.242em; display: inline-block;"><span style="display: inline-block; position: relative; width: 7.09em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.989em, 1006.99em, 4.255em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-652"><span style="display: inline-block; position: relative; width: 7.09em; height: 0px;"><span style="position: absolute; clip: rect(2.989em, 1006.99em, 4.255em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-653"><span class="mrow" id="MathJax-Span-654"><span class="msup" id="MathJax-Span-655"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-656" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -4.351em; left: 0.812em;"><span class="mi" id="MathJax-Span-657" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-658" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-659" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-660" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mi" id="MathJax-Span-661" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-662" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-663" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.152em; border-left: 0px solid; width: 0px; height: 1.035em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>P</mi><mi>T</mi></msup><mo>=</mo><mi>F</mi><mo>−</mo><mi>P</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      P^T=F-P-1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-58"><math><semantics><mrow><msup><mi>P</mi><mi>T</mi></msup><mo>=</mo><mi>F</mi><mo>−</mo><mi>P</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">P^T=F-P-1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.891331em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.891331em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span></span><br>
其中 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-59-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msup><mi>P</mi><mi>T</mi></msup></mrow><annotation encoding=&quot;application/x-tex&quot;>      P^T</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-664" style="width: 1.471em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.989em, 1001.42em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-665"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(2.989em, 1001.42em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-666"><span class="mrow" id="MathJax-Span-667"><span class="msup" id="MathJax-Span-668"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-669" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -4.351em; left: 0.812em;"><span class="mi" id="MathJax-Span-670" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.984em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>P</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">      P^T</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-59"><math><semantics><mrow><msup><mi>P</mi><mi>T</mi></msup></mrow><annotation encoding="application/x-tex">P^T</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.841331em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.841331em;"><span class="" style="top: -3.063em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span></span></span></span></span> 是转置卷积中 padding 的大小，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-60-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>F</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      F</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-671" style="width: 0.812em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-672"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-673"><span class="mrow" id="MathJax-Span-674"><span class="mi" id="MathJax-Span-675" style="font-family: MathJax_Math-italic;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">      F</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-60"><math><semantics><mrow><mi>F</mi></mrow><annotation encoding="application/x-tex">F</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span></span></span></span></span> 是直接卷积中卷积核的大小，<span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-61-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>P</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      P</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-676" style="width: 0.812em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-677"><span style="display: inline-block; position: relative; width: 0.762em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-678"><span class="mrow" id="MathJax-Span-679"><span class="mi" id="MathJax-Span-680" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">      P</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-61"><math><semantics><mrow><mi>P</mi></mrow><annotation encoding="application/x-tex">P</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">P</span></span></span></span></span> 是直接卷积中 padding 的大小。</p>
<p>  另外我们可以以一种较为直觉的角度去理解卷积和反卷积。在上图中的第一行，我们看到代表输入的蓝色矩阵中的 1 实际上只对计算代表输出的绿色矩阵中的 1 有贡献，对绿色矩阵中的其他值并没有贡献。因为直接卷积的输入是转置卷积的输出，转置卷积的输出是直接卷积的输入，所以第二行绿色矩阵中的 1 实际是与第一行蓝色矩阵中的 1 相对应的，而第一行蓝色矩阵中的 1 有只影响第一行绿色矩阵中的 1，所以在计算转置卷积的过程中，绿色矩阵中 1 的值只与蓝色矩阵中 1 的值有关，其他的位置都补零了；我们可以相同的思想思考剩下的结果。</p>
<p>  我们看到一个有趣的现象，valid卷积 (0 padding ,s=1) 的转置卷积实际上是一个 fully 卷积 (F-1 padding , =1s)的过程。而且我们可以看到 same 卷积的转置卷积实际上还是一个 same 卷积，如下图所示</p>
<p><img src="https://img-blog.csdn.net/20181018111009874?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181018111009874?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"></p>
<p>而且 fully 卷积 (F-1 padding , s=1) 的转置卷积实际上是一个 valid 卷积 (0 padding ,s=1)  的过程，如下图所示<br>
<img src="https://img-blog.csdn.net/20181018111143281?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181018111143281?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"></p>
<h2><a name="t10"></a><a id="25__1__97" target="_blank"></a>2.5 步长小于 1 的转置卷积</h2>
<p>  由于转置卷积的步长是直接卷积的倒数，因此当直接卷积的步长 s&gt;1 的时候，那么转置卷积的步长就会是分数，这也是转置卷积又称为分数步长卷积的原因。在 2.4 的例子中，我们所处理的都是直接卷积步长为1 的例子，所以可以认为直接卷积与转置卷积的步长相等。当转置卷积的步长小于1的时候，我们可以通过下面的例子有一个直接的了解<br>
<img src="https://img-blog.csdn.net/20181018153854944?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181018153854944?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"></p>
<p>如上图是一个输入 feature map 为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-62-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>5</mn><mo>&amp;#xD7;</mo><mn>5</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      5\times5</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-681" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-682"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-683"><span class="mrow" id="MathJax-Span-684"><span class="mn" id="MathJax-Span-685" style="font-family: MathJax_Main;">5</span><span class="mo" id="MathJax-Span-686" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-687" style="font-family: MathJax_Main; padding-left: 0.205em;">5</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>5</mn><mo>×</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">      5\times5</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-62"><math><semantics><mrow><mn>5</mn><mo>×</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">5\times5</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">5</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">5</span></span></span></span></span>，卷积核大小为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-63-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>3</mn><mo>&amp;#xD7;</mo><mn>3</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      3\times3</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-688" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-689"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-690"><span class="mrow" id="MathJax-Span-691"><span class="mn" id="MathJax-Span-692" style="font-family: MathJax_Main;">3</span><span class="mo" id="MathJax-Span-693" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-694" style="font-family: MathJax_Main; padding-left: 0.205em;">3</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.829em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">      3\times3</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-63"><math><semantics><mrow><mn>3</mn><mo>×</mo><mn>3</mn></mrow><annotation encoding="application/x-tex">3\times3</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span></span></span></span></span>，步长 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-64-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      s=2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-695" style="width: 2.331em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-696"><span style="display: inline-block; position: relative; width: 2.281em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.23em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-697"><span class="mrow" id="MathJax-Span-698"><span class="mi" id="MathJax-Span-699" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-700" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-701" style="font-family: MathJax_Main; padding-left: 0.256em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      s=2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-64"><math><semantics><mrow><mi>s</mi><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">s=2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 的直接卷积的转置卷积，此时的转置卷积的输入是在 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-65-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mn>2</mn><mo>&amp;#xD7;</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      2\times2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-702" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-703"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.13em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-704"><span class="mrow" id="MathJax-Span-705"><span class="mn" id="MathJax-Span-706" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-707" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-708" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.049em; border-left: 0px solid; width: 0px; height: 0.777em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      2\times2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-65"><math><semantics><mrow><mn>2</mn><mo>×</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">2\times2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span> 的矩阵间进行插孔得到的。首先计算此时转置卷积输出的大小，我们发现与之前的计算方法是一样的<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-66-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo><mo>&amp;#x2212;</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi><mo>=</mo><mn>2</mn><mo>&amp;#xD7;</mo><mo>(</mo><mn>2</mn><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo><mo>&amp;#x2212;</mo><mn>2</mn><mo>&amp;#xD7;</mo><mn>0</mn><mo>+</mo><mn>3</mn><mo>=</mo><mn>5</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1=S(W_2-1)-2P+F=2\times(2-1)-2\times0+3=5</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-709" style="width: 24.808em; display: inline-block;"><span style="display: inline-block; position: relative; width: 24.301em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1024.25em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-710"><span style="display: inline-block; position: relative; width: 24.301em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1024.25em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-711"><span class="mrow" id="MathJax-Span-712"><span class="msub" id="MathJax-Span-713"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-714" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-715" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-716" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-717" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-718" style="font-family: MathJax_Main;">(</span><span class="msub" id="MathJax-Span-719"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-720" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-721" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-722" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-723" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-724" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-725" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-726" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-727" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-728" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-729" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-730" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-731" style="font-family: MathJax_Main; padding-left: 0.256em;">2</span><span class="mo" id="MathJax-Span-732" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mo" id="MathJax-Span-733" style="font-family: MathJax_Main; padding-left: 0.205em;">(</span><span class="mn" id="MathJax-Span-734" style="font-family: MathJax_Main;">2</span><span class="mo" id="MathJax-Span-735" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-736" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-737" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-738" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-739" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mo" id="MathJax-Span-740" style="font-family: MathJax_Main; padding-left: 0.205em;">×</span><span class="mn" id="MathJax-Span-741" style="font-family: MathJax_Main; padding-left: 0.205em;">0</span><span class="mo" id="MathJax-Span-742" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-743" style="font-family: MathJax_Main; padding-left: 0.205em;">3</span><span class="mo" id="MathJax-Span-744" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-745" style="font-family: MathJax_Main; padding-left: 0.256em;">5</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi><mo>=</mo><mn>2</mn><mo>×</mo><mo>(</mo><mn>2</mn><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mo>×</mo><mn>0</mn><mo>+</mo><mn>3</mn><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">      W_1=S(W_2-1)-2P+F=2\times(2-1)-2\times0+3=5</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-66"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi><mo>=</mo><mn>2</mn><mo>×</mo><mo>(</mo><mn>2</mn><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mo>×</mo><mn>0</mn><mo>+</mo><mn>3</mn><mo>=</mo><mn>5</mn></mrow><annotation encoding="application/x-tex">W_1=S(W_2-1)-2P+F=2\times(2-1)-2\times0+3=5</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">×</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">5</span></span></span></span></span></span><br>
果然通过之前推导出的公式计算出了与上图相同的结果，这时我们计算下转置卷积中 padding 的大小<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-67-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msup><mi>P</mi><mi>T</mi></msup><mo>=</mo><mi>F</mi><mo>&amp;#x2212;</mo><mi>P</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>=</mo><mn>3</mn><mo>&amp;#x2212;</mo><mn>0</mn><mo>&amp;#x2212;</mo><mn>1</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      P^T=F-P-1=3-0-1=2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-746" style="width: 14.329em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.025em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(2.989em, 1013.97em, 4.255em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-747"><span style="display: inline-block; position: relative; width: 14.025em; height: 0px;"><span style="position: absolute; clip: rect(2.989em, 1013.97em, 4.255em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-748"><span class="mrow" id="MathJax-Span-749"><span class="msup" id="MathJax-Span-750"><span style="display: inline-block; position: relative; width: 1.42em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1000.76em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-751" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -4.351em; left: 0.812em;"><span class="mi" id="MathJax-Span-752" style="font-size: 70.7%; font-family: MathJax_Math-italic;">T<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-753" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-754" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-755" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mi" id="MathJax-Span-756" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-757" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-758" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-759" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-760" style="font-family: MathJax_Main; padding-left: 0.256em;">3</span><span class="mo" id="MathJax-Span-761" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-762" style="font-family: MathJax_Main; padding-left: 0.205em;">0</span><span class="mo" id="MathJax-Span-763" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-764" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-765" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mn" id="MathJax-Span-766" style="font-family: MathJax_Main; padding-left: 0.256em;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.152em; border-left: 0px solid; width: 0px; height: 1.035em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msup><mi>P</mi><mi>T</mi></msup><mo>=</mo><mi>F</mi><mo>−</mo><mi>P</mi><mo>−</mo><mn>1</mn><mo>=</mo><mn>3</mn><mo>−</mo><mn>0</mn><mo>−</mo><mn>1</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">      P^T=F-P-1=3-0-1=2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-67"><math><semantics><mrow><msup><mi>P</mi><mi>T</mi></msup><mo>=</mo><mi>F</mi><mo>−</mo><mi>P</mi><mo>−</mo><mn>1</mn><mo>=</mo><mn>3</mn><mo>−</mo><mn>0</mn><mo>−</mo><mn>1</mn><mo>=</mo><mn>2</mn></mrow><annotation encoding="application/x-tex">P^T=F-P-1=3-0-1=2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.891331em; vertical-align: 0em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height: 0.891331em;"><span class="" style="top: -3.113em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathit mtight" style="margin-right: 0.13889em;">T</span></span></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">3</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.72777em; vertical-align: -0.08333em;"></span><span class="mord">0</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">2</span></span></span></span></span></span><br>
很明显 padding  的计算结果也是符合上面的公式要求的。之后就是最关键的部分了，如何体现出步长是分数步长。在原始的卷积中插入数字 0，这使得内核以比单位步幅的速度移动慢，具体的在输入的每两个元素之间插入 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-68-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>s</mi><mo>&amp;#x2212;</mo><mn>1</mn></mrow><annotation encoding=&quot;application/x-tex&quot;>      s-1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-767" style="width: 2.23em; display: inline-block;"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1002.08em, 4.255em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-768"><span style="display: inline-block; position: relative; width: 2.179em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1002.08em, 4.255em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-769"><span class="mrow" id="MathJax-Span-770"><span class="mi" id="MathJax-Span-771" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-772" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-773" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.152em; border-left: 0px solid; width: 0px; height: 0.88em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>s</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">      s-1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-68"><math><semantics><mrow><mi>s</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">s-1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.66666em; vertical-align: -0.08333em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.64444em; vertical-align: 0em;"></span><span class="mord">1</span></span></span></span></span> 个 0。所以此时转置卷积的输入尺寸大小由原来的 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-69-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_2</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-774" style="width: 1.42em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-775"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-776"><span class="mrow" id="MathJax-Span-777"><span class="msub" id="MathJax-Span-778"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-779" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-780" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">      W_2</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-69"><math><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub></mrow><annotation encoding="application/x-tex">W_2</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span> 变为 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-70-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>+</mo><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo><mo>(</mo><mi>s</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_2 + (W_2-1)(s-1)</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-781" style="width: 9.52em; display: inline-block;"><span style="display: inline-block; position: relative; width: 9.317em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1009.27em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-782"><span style="display: inline-block; position: relative; width: 9.317em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1009.27em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-783"><span class="mrow" id="MathJax-Span-784"><span class="msub" id="MathJax-Span-785"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-786" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-787" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-788" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mo" id="MathJax-Span-789" style="font-family: MathJax_Main; padding-left: 0.205em;">(</span><span class="msub" id="MathJax-Span-790"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-791" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-792" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-793" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-794" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-795" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-796" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-797" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-798" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-799" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-800" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>+</mo><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>(</mo><mi>s</mi><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">      W_2 + (W_2-1)(s-1)</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-70"><math><semantics><mrow><msub><mi>W</mi><mn>2</mn></msub><mo>+</mo><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>(</mo><mi>s</mi><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">W_2 + (W_2-1)(s-1)</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mopen">(</span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>。</p>
<p>  记得在 1.2 节曾经提到过"对于某一个 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-71-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-801" style="width: 1.42em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-802"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.37em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-803"><span class="mrow" id="MathJax-Span-804"><span class="msub" id="MathJax-Span-805"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-806" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-807" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">      W_1</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-71"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub></mrow><annotation encoding="application/x-tex">W_1</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span></span></span></span></span>，如果 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-72-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>&amp;#x2212;</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1-F+2P</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-808" style="width: 5.925em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.774em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.192em, 1005.77em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-809"><span style="display: inline-block; position: relative; width: 5.774em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1005.77em, 4.305em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-810"><span class="mrow" id="MathJax-Span-811"><span class="msub" id="MathJax-Span-812"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-813" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-814" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-815" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mi" id="MathJax-Span-816" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-817" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-818" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-819" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.204em; border-left: 0px solid; width: 0px; height: 0.932em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi></mrow><annotation encoding="application/x-tex">      W_1-F+2P</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-72"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>F</mi><mo>+</mo><mn>2</mn><mi>P</mi></mrow><annotation encoding="application/x-tex">W_1-F+2P</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.68333em; vertical-align: 0em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span></span></span></span></span> 满足是 s 的整数倍，那么这时将输入增大到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-73-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>3</mn></msub><mo>=</mo><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><mi>a</mi><mo separator=&quot;true&quot;>,</mo><mi>a</mi><mo>&amp;#x2208;</mo><mo>(</mo><mn>0</mn><mo separator=&quot;true&quot;>,</mo><mn>1</mn><mo separator=&quot;true&quot;>,</mo><mo>&amp;#x2026;</mo><mo separator=&quot;true&quot;>,</mo><mi>s</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_3=W_1+a,a\in (0,1,&amp;#x2026;,s-1)</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-820" style="width: 14.734em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.43em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1014.38em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-821"><span style="display: inline-block; position: relative; width: 14.43em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1014.38em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-822"><span class="mrow" id="MathJax-Span-823"><span class="msub" id="MathJax-Span-824"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-825" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-826" style="font-size: 70.7%; font-family: MathJax_Main;">3</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-827" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="msub" id="MathJax-Span-828" style="padding-left: 0.256em;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-829" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-830" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-831" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-832" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">a</span><span class="mo" id="MathJax-Span-833" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-834" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">a</span><span class="mo" id="MathJax-Span-835" style="font-family: MathJax_Main; padding-left: 0.256em;">∈</span><span class="mo" id="MathJax-Span-836" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="mn" id="MathJax-Span-837" style="font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-838" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-839" style="font-family: MathJax_Main; padding-left: 0.154em;">1</span><span class="mo" id="MathJax-Span-840" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-841" style="font-family: MathJax_Main; padding-left: 0.154em;">…</span><span class="mo" id="MathJax-Span-842" style="font-family: MathJax_Main; padding-left: 0.154em;">,</span><span class="mi" id="MathJax-Span-843" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">s</span><span class="mo" id="MathJax-Span-844" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-845" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-846" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>3</mn></msub><mo>=</mo><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><mi>a</mi><mo separator="true">,</mo><mi>a</mi><mo>∈</mo><mo>(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>s</mi><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">      W_3=W_1+a,a\in (0,1,…,s-1)</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-73"><math><semantics><mrow><msub><mi>W</mi><mn>3</mn></msub><mo>=</mo><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><mi>a</mi><mo separator="true">,</mo><mi>a</mi><mo>∈</mo><mo>(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>s</mi><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">W_3=W_1+a,a\in (0,1,…,s-1)</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.73354em; vertical-align: -0.19444em;"></span><span class="mord mathit">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathit">a</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>，那么都会输出与原来一样大小的 feature map。这个虽然对卷积的影响并不是很大，但是会使得转置卷积的计算变得复杂。"现在我们就来考虑一下这样的问题会复杂在哪里？</p>
<p>  虽然在直接卷积的过程中，将输入增大到 <span class="katex--inline"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-74-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>3</mn></msub><mo>=</mo><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><mi>a</mi><mo separator=&quot;true&quot;>,</mo><mi>a</mi><mo>&amp;#x2208;</mo><mo>(</mo><mn>0</mn><mo separator=&quot;true&quot;>,</mo><mn>1</mn><mo separator=&quot;true&quot;>,</mo><mo>&amp;#x2026;</mo><mo separator=&quot;true&quot;>,</mo><mi>s</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_3=W_1+a,a\in (0,1,&amp;#x2026;,s-1)</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-847" style="width: 14.734em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.43em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1014.38em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-848"><span style="display: inline-block; position: relative; width: 14.43em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1014.38em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-849"><span class="mrow" id="MathJax-Span-850"><span class="msub" id="MathJax-Span-851"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-852" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-853" style="font-size: 70.7%; font-family: MathJax_Main;">3</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-854" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="msub" id="MathJax-Span-855" style="padding-left: 0.256em;"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-856" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-857" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-858" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-859" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">a</span><span class="mo" id="MathJax-Span-860" style="font-family: MathJax_Main;">,</span><span class="mi" id="MathJax-Span-861" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">a</span><span class="mo" id="MathJax-Span-862" style="font-family: MathJax_Main; padding-left: 0.256em;">∈</span><span class="mo" id="MathJax-Span-863" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="mn" id="MathJax-Span-864" style="font-family: MathJax_Main;">0</span><span class="mo" id="MathJax-Span-865" style="font-family: MathJax_Main;">,</span><span class="mn" id="MathJax-Span-866" style="font-family: MathJax_Main; padding-left: 0.154em;">1</span><span class="mo" id="MathJax-Span-867" style="font-family: MathJax_Main;">,</span><span class="mo" id="MathJax-Span-868" style="font-family: MathJax_Main; padding-left: 0.154em;">…</span><span class="mo" id="MathJax-Span-869" style="font-family: MathJax_Main; padding-left: 0.154em;">,</span><span class="mi" id="MathJax-Span-870" style="font-family: MathJax_Math-italic; padding-left: 0.154em;">s</span><span class="mo" id="MathJax-Span-871" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-872" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-873" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>3</mn></msub><mo>=</mo><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><mi>a</mi><mo separator="true">,</mo><mi>a</mi><mo>∈</mo><mo>(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>s</mi><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">      W_3=W_1+a,a\in (0,1,…,s-1)</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-74"><math><semantics><mrow><msub><mi>W</mi><mn>3</mn></msub><mo>=</mo><msub><mi>W</mi><mn>1</mn></msub><mo>+</mo><mi>a</mi><mo separator="true">,</mo><mi>a</mi><mo>∈</mo><mo>(</mo><mn>0</mn><mo separator="true">,</mo><mn>1</mn><mo separator="true">,</mo><mo>…</mo><mo separator="true">,</mo><mi>s</mi><mo>−</mo><mn>1</mn><mo>)</mo></mrow><annotation encoding="application/x-tex">W_3=W_1+a,a\in (0,1,…,s-1)</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">3</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.73354em; vertical-align: -0.19444em;"></span><span class="mord mathit">a</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathit">a</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">∈</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord">0</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="minner">…</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mpunct">,</span><span class="mspace" style="margin-right: 0.166667em;"></span><span class="mord mathit">s</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span></span></span></span></span>，那么都会输出与原来一样大小的 feature map。但是转置卷积的过程肯定是希望获得与直接卷积输入一样大的 feature map，那么应该如何做呢？</p>
<p>  输出相同的大小，是因为在原图中有一部分的输入没有经过卷积计算，直接忽略掉了，所以我们就求出这部分的大小是多少，然后直接加到转置卷积的 output feature map 上就好了，具体计算如下<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-75-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><mi>a</mi><mo>=</mo><mo>(</mo><msub><mi>W</mi><mn>1</mn></msub><mo>&amp;#x2212;</mo><mi>K</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi>m</mi><mi>o</mi><mi>d</mi><mo>(</mo><mi>s</mi><mo>)</mo></mrow><annotation encoding=&quot;application/x-tex&quot;>      a = (W_1-K+2P)mod(s)%s</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-874" style="width: 11.899em; display: inline-block;"><span style="display: inline-block; position: relative; width: 11.646em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1011.54em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-875"><span style="display: inline-block; position: relative; width: 11.646em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1011.54em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-876"><span class="mrow" id="MathJax-Span-877"><span class="mi" id="MathJax-Span-878" style="font-family: MathJax_Math-italic;">a</span><span class="mo" id="MathJax-Span-879" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mo" id="MathJax-Span-880" style="font-family: MathJax_Main; padding-left: 0.256em;">(</span><span class="msub" id="MathJax-Span-881"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-882" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-883" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-884" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mi" id="MathJax-Span-885" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">K<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-886" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mn" id="MathJax-Span-887" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-888" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-889" style="font-family: MathJax_Main;">)</span><span class="mi" id="MathJax-Span-890" style="font-family: MathJax_Math-italic;">m</span><span class="mi" id="MathJax-Span-891" style="font-family: MathJax_Math-italic;">o</span><span class="mi" id="MathJax-Span-892" style="font-family: MathJax_Math-italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-893" style="font-family: MathJax_Main;">(</span><span class="mi" id="MathJax-Span-894" style="font-family: MathJax_Math-italic;">s</span><span class="mo" id="MathJax-Span-895" style="font-family: MathJax_Main;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>=</mo><mo>(</mo><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>K</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi>m</mi><mi>o</mi><mi>d</mi><mo>(</mo><mi>s</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">      a = (W_1-K+2P)mod(s)%s</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-75"><math><semantics><mrow><mi>a</mi><mo>=</mo><mo>(</mo><msub><mi>W</mi><mn>1</mn></msub><mo>−</mo><mi>K</mi><mo>+</mo><mn>2</mn><mi>P</mi><mo>)</mo><mi>m</mi><mi>o</mi><mi>d</mi><mo>(</mo><mi>s</mi><mo>)</mo></mrow><annotation encoding="application/x-tex">a = (W_1-K+2P)mod(s)%s</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathit">a</span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.07153em;">K</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mclose">)</span><span class="mord mathit">m</span><span class="mord mathit">o</span><span class="mord mathit">d</span><span class="mopen">(</span><span class="mord mathit">s</span><span class="mclose">)</span></span></span></span></span></span><br>
这个很好理解，就是在直接卷积中有多少是没有被卷积而遗留下来的。所以这个时候转置卷积的输出也变为了<br>
<span class="katex--display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax" id="MathJax-Element-76-Frame" tabindex="0" style="position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>&amp;#x2212;</mo><mn>1</mn><mo>)</mo><mo>&amp;#x2212;</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi><mo>+</mo><mi>a</mi></mrow><annotation encoding=&quot;application/x-tex&quot;>      W_1=S(W_2-1)-2P+F+a</annotation></semantics></math>" role="presentation"><nobr aria-hidden="true"><span class="math" id="MathJax-Span-896" style="width: 13.519em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.266em; height: 0px; font-size: 102%;"><span style="position: absolute; clip: rect(3.091em, 1013.22em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="mrow" id="MathJax-Span-897"><span style="display: inline-block; position: relative; width: 13.266em; height: 0px;"><span style="position: absolute; clip: rect(3.091em, 1013.22em, 4.407em, -999.997em); top: -3.997em; left: 0em;"><span class="semantics" id="MathJax-Span-898"><span class="mrow" id="MathJax-Span-899"><span class="msub" id="MathJax-Span-900"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-901" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-902" style="font-size: 70.7%; font-family: MathJax_Main;">1</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-903" style="font-family: MathJax_Main; padding-left: 0.256em;">=</span><span class="mi" id="MathJax-Span-904" style="font-family: MathJax_Math-italic; padding-left: 0.256em;">S<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.053em;"></span></span><span class="mo" id="MathJax-Span-905" style="font-family: MathJax_Main;">(</span><span class="msub" id="MathJax-Span-906"><span style="display: inline-block; position: relative; width: 1.369em; height: 0px;"><span style="position: absolute; clip: rect(3.192em, 1001.07em, 4.154em, -999.997em); top: -3.997em; left: 0em;"><span class="mi" id="MathJax-Span-907" style="font-family: MathJax_Math-italic;">W<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span><span style="position: absolute; top: -3.845em; left: 0.964em;"><span class="mn" id="MathJax-Span-908" style="font-size: 70.7%; font-family: MathJax_Main;">2</span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span class="mo" id="MathJax-Span-909" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-910" style="font-family: MathJax_Main; padding-left: 0.205em;">1</span><span class="mo" id="MathJax-Span-911" style="font-family: MathJax_Main;">)</span><span class="mo" id="MathJax-Span-912" style="font-family: MathJax_Main; padding-left: 0.205em;">−</span><span class="mn" id="MathJax-Span-913" style="font-family: MathJax_Main; padding-left: 0.205em;">2</span><span class="mi" id="MathJax-Span-914" style="font-family: MathJax_Math-italic;">P<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-915" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-916" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">F<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.104em;"></span></span><span class="mo" id="MathJax-Span-917" style="font-family: MathJax_Main; padding-left: 0.205em;">+</span><span class="mi" id="MathJax-Span-918" style="font-family: MathJax_Math-italic; padding-left: 0.205em;">a</span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.002em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -0.307em; border-left: 0px solid; width: 0px; height: 1.139em;"></span></span></nobr><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi><mo>+</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">      W_1=S(W_2-1)-2P+F+a</annotation></semantics></math></span></span><script type="math/mml" id="MathJax-Element-76"><math><semantics><mrow><msub><mi>W</mi><mn>1</mn></msub><mo>=</mo><mi>S</mi><mo>(</mo><msub><mi>W</mi><mn>2</mn></msub><mo>−</mo><mn>1</mn><mo>)</mo><mo>−</mo><mn>2</mn><mi>P</mi><mo>+</mo><mi>F</mi><mo>+</mo><mi>a</mi></mrow><annotation encoding="application/x-tex">W_1=S(W_2-1)-2P+F+a</annotation></semantics></math></script></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height: 0.83333em; vertical-align: -0.15em;"></span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.277778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right: 0.277778em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord mathit" style="margin-right: 0.05764em;">S</span><span class="mopen">(</span><span class="mord"><span class="mord mathit" style="margin-right: 0.13889em;">W</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height: 0.301108em;"><span class="" style="top: -2.55em; margin-left: -0.13889em; margin-right: 0.05em;"><span class="pstrut" style="height: 2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">2</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height: 0.15em;"><span class=""></span></span></span></span></span></span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 1em; vertical-align: -0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord">2</span><span class="mord mathit" style="margin-right: 0.13889em;">P</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.76666em; vertical-align: -0.08333em;"></span><span class="mord mathit" style="margin-right: 0.13889em;">F</span><span class="mspace" style="margin-right: 0.222222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right: 0.222222em;"></span></span><span class="base"><span class="strut" style="height: 0.43056em; vertical-align: 0em;"></span><span class="mord mathit">a</span></span></span></span></span></span><br>
下面的图像将直观地解释这一过程<br>
<img src="https://img-blog.csdn.net/20181018162650698?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="在这里插入图片描述" srcset="data:image/svg+xml,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20300%20300'%3E%3C/svg%3E" data-src="https://img-blog.csdn.net/20181018162650698?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2R1Z3VkYWlibw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" class="lozad post-image"></p>
<p>可以看到在最右侧和最下面补了一圈 0，就是上面计算转置卷积输出中的 a。</p>
<h1><a name="t11"></a><a id="_119" target="_blank"></a>参考</h1>
<p>[1] Dumoulin V, Visin F. A guide to convolution arithmetic for deep learning[J]. 2016.<br>
[2] ustc_lijia CSDN 博客 <a href="https://blog.csdn.net/xiaojiajia007/article/details/75041651" rel="nofollow" target="_blank">《反卷积，转置卷积》</a></p>

<pre><code>        &lt;/div&gt;</code></pre>
	
  </div>
  
  
  <br><br>
  <div style="height:60px;border:none;border-top:1px solid #000;"></div>  
  <div style="margin-left: 125px;">
    <div style="float: left; width: 200px; height: 200px;">
        <img class="adv" style="width: 100%; height: 100%; border: solid 1px #ddd;" src="https://pic4.zhimg.com/80/v2-6f4153925b20af12b17837b531302695_720w.jpeg">
    </div>
    <div style="float: left; margin-left: 35px;">
        <div style="font-size: 28px; margin-bottom: 12px;margin-left: 4px;">关注我的公众号</div>
        <small style="font-size: 1.2em;">
            →「技术干货」每日推送<br><br>
            →「免费资料」随时领取<br><br>
            →「签到活动」每周福利<br><br>
        </small>
    </div>
    <div style="clear: both;"></div>
</div>
  
  
  
  <div>
  
  <div class="post-note note-warning copyright" style="margin-top: 42px">
    <p><span style="font-weight: bold;">作者：</span><a target="_blank" rel="nofollow noopener noreferrer" href="http://tanqingbo.cn/about">谭庆波</a></p>
    <p><span style="font-weight: bold;">文章链接：</span><a target="_blank" rel="nofollow noopener noreferrer" href="http://tanqingbo.cn/2019/04/10/%E5%8D%B7%E7%A7%AF%E4%B8%8E%E5%8F%8D%E5%8D%B7%E7%A7%AF%EF%BC%88%E8%BD%AC%E7%BD%AE%E5%8D%B7%E7%A7%AF%EF%BC%89%E5%85%B3%E7%B3%BB%E8%B6%85%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E%E5%8F%8A%E6%8E%A8%E5%AF%BC/">http://tanqingbo.cn/2019/04/10/%E5%8D%B7%E7%A7%AF%E4%B8%8E%E5%8F%8D%E5%8D%B7%E7%A7%AF%EF%BC%88%E8%BD%AC%E7%BD%AE%E5%8D%B7%E7%A7%AF%EF%BC%89%E5%85%B3%E7%B3%BB%E8%B6%85%E8%AF%A6%E7%BB%86%E8%AF%B4%E6%98%8E%E5%8F%8A%E6%8E%A8%E5%AF%BC/</a></p>
    <p><span style="font-weight: bold;">版权声明：</span>本博客所有文章除特别声明外，均采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0 协议</a>。转载请注明出处！</p>
  </div>
  
  </div>
</article>
<div class="nav">
  
  <div class="nav-item-prev">
    <a href="/2019/04/11/深度学习在医学图像分析领域的研究/" class="nav-link">
      <i class="iconfont icon-left nav-prev-icon"></i>
      <div>
        <div class="nav-label">上一篇</div>
        
        <div class="nav-title">深度学习在医学图像分析领域的研究 </div>
        
      </div>
    </a>
  </div>
  
  
  <div class="nav-item-next">
    <a href="/2019/03/06/3D Unet实验笔记/" class="nav-link">
      <div>
        <div class="nav-label">下一篇</div>
        
        <div class="nav-title">3D Unet 实验笔记 </div>
        
      </div>
      <i class="iconfont icon-right nav-next-icon"></i>
    </a>
  </div>
  
</div>

<div class="card card-content toc-card" id="mobiletoc">
  <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#content_views"><span class="toc-text">1.CNN中的卷积</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.1 卷积与相关滤波间的差别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.2 卷积输出尺寸计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.3 s&gt;1 的卷积</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.4 s&gt;1 的卷积与 pooling 之间的关系</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#content_views"><span class="toc-text">2. 转置卷积</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.1 将卷积转化为矩阵相乘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.2 卷积的前向传播和反向传播</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.3 转置卷积</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.4 转置卷积的计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.5 步长小于 1 的转置卷积</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#content_views"><span class="toc-text">参考</span></a></li></ol>
</div></main>
          <aside class="left-column">
            
            <div class="card card-author">
              
<img src="/img/logo.jpg" class="author-img">

<p class="author-name">谭庆波</p>
<p class="author-description">designed by Tan Qing Bo</p>
<div class="author-message">
  <a class="author-posts-count" href="/archives">
    <span>321</span>
    <span>文章</span>
  </a>
  <a class="author-categories-count" href="/categories">
    <span>14</span>
    <span>分类</span>
  </a>
  <a class="author-tags-count" href="/tags">
    <span>34</span>
    <span>标签</span>
  </a>
</div>

            </div>
            
            <div class="sticky-tablet">
  
  
  <article class="display-when-two-columns spacer">
    <div class="card card-content toc-card">
      <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#content_views"><span class="toc-text">1.CNN中的卷积</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.1 卷积与相关滤波间的差别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.2 卷积输出尺寸计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.3 s&gt;1 的卷积</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.4 s&gt;1 的卷积与 pooling 之间的关系</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#content_views"><span class="toc-text">2. 转置卷积</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.1 将卷积转化为矩阵相乘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.2 卷积的前向传播和反向传播</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.3 转置卷积</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.4 转置卷积的计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.5 步长小于 1 的转置卷积</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#content_views"><span class="toc-text">参考</span></a></li></ol>
    </div>
  </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header"><i class="iconfont icon-fenlei" style="padding-right: 2px;"></i>分类</div>
  <div class="categories-list">
    
      <a href="/categories/转载">
        <div class="categories-list-item">
          转载
          <span class="categories-list-item-badge">117</span>
        </div>
      </a>
    
      <a href="/categories/漂来漂去">
        <div class="categories-list-item">
          漂来漂去
          <span class="categories-list-item-badge">40</span>
        </div>
      </a>
    
      <a href="/categories/机器学习">
        <div class="categories-list-item">
          机器学习
          <span class="categories-list-item-badge">37</span>
        </div>
      </a>
    
      <a href="/categories/C语言">
        <div class="categories-list-item">
          C语言
          <span class="categories-list-item-badge">4</span>
        </div>
      </a>
    
      <a href="/categories/资源分享">
        <div class="categories-list-item">
          资源分享
          <span class="categories-list-item-badge">19</span>
        </div>
      </a>
    
      <a href="/categories/技术博客">
        <div class="categories-list-item">
          技术博客
          <span class="categories-list-item-badge">38</span>
        </div>
      </a>
    
      <a href="/categories/图像处理">
        <div class="categories-list-item">
          图像处理
          <span class="categories-list-item-badge">15</span>
        </div>
      </a>
    
      <a href="/categories/Linux">
        <div class="categories-list-item">
          Linux
          <span class="categories-list-item-badge">5</span>
        </div>
      </a>
    
      <a href="/categories/Java">
        <div class="categories-list-item">
          Java
          <span class="categories-list-item-badge">23</span>
        </div>
      </a>
    
      <a href="/categories/大话设计模式">
        <div class="categories-list-item">
          大话设计模式
          <span class="categories-list-item-badge">5</span>
        </div>
      </a>
    
      <a href="/categories/东搞西搞">
        <div class="categories-list-item">
          东搞西搞
          <span class="categories-list-item-badge">11</span>
        </div>
      </a>
    
      <a href="/categories/设计模式">
        <div class="categories-list-item">
          设计模式
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/网络原理">
        <div class="categories-list-item">
          网络原理
          <span class="categories-list-item-badge">4</span>
        </div>
      </a>
    
      <a href="/categories/操作系统">
        <div class="categories-list-item">
          操作系统
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header"><i class="iconfont icon-biaoqian" style="padding-right: 2px;"></i>热门标签</div>
  <div class="tags-list">
    
    <a href="\tags\Java" title="Java"><div class="tags-list-item">Java</div></a>
    
    <a href="\tags\算法" title="算法"><div class="tags-list-item">算法</div></a>
    
    <a href="\tags\java" title="java"><div class="tags-list-item">java</div></a>
    
    <a href="\tags\框架" title="框架"><div class="tags-list-item">框架</div></a>
    
    <a href="\tags\面试" title="面试"><div class="tags-list-item">面试</div></a>
    
    <a href="\tags\网络" title="网络"><div class="tags-list-item">网络</div></a>
    
    <a href="\tags\排序" title="排序"><div class="tags-list-item">排序</div></a>
    
    <a href="\tags\项目" title="项目"><div class="tags-list-item">项目</div></a>
    
    <a href="\tags\hibernate" title="hibernate"><div class="tags-list-item">hibernate</div></a>
    
    <a href="\tags\操作系统" title="操作系统"><div class="tags-list-item">操作系统</div></a>
    
    <a href="\tags\Sping" title="Sping"><div class="tags-list-item">Sping</div></a>
    
    <a href="\tags\数据结构" title="数据结构"><div class="tags-list-item">数据结构</div></a>
    
    <a href="\tags\博客" title="博客"><div class="tags-list-item">博客</div></a>
    
    <a href="\tags\Python" title="Python"><div class="tags-list-item">Python</div></a>
    
    <a href="\tags\Linux" title="Linux"><div class="tags-list-item">Linux</div></a>
    
    <a href="\tags\技术" title="技术"><div class="tags-list-item">技术</div></a>
    
  </div>
</div>
  </article>
  
  
</div>
          </aside>
          <aside class="right-column">
            <div class="sticky-widescreen">


<article class="card card-content toc-card">
<div style="">
    <div style="float: left; width: 125px; height: 125px;">
        <img class="adv" style="width: 100%; height: 100%; border: solid 1px #ddd;" src="https://pic4.zhimg.com/80/v2-6f4153925b20af12b17837b531302695_720w.jpeg">
    </div>
    <div style="float: left; margin-left: 17px; margin-top: 12px;">
        <div style="font-size: 18px; margin-bottom: 12px;margin-left: 4px;">关注我的公众号</div>
        <small style="font-size: 0.8em;">
            →「技术干货」每日推送<br>
            →「免费资料」随时领取<br>
            →「签到活动」每周福利<br>
        </small>
    </div>
    <div style="clear: both;"></div>
	<div style="font-size: 0.8em; margin: 15px 0 10px 0;">
    <a href="" target="_blank" style="color:orange;font-size: 14px;" rel="noopener noreferrer">扫描上方二维码，关注我的公众号</a>
    <br>
    <div style="height: 8px;"></div>
    更多干货，等你来看，我在微信上等你！
</div>
</div>
</article>


<article class="card card-content toc-card">
<div class="xingqiu-img"><img src="https://pic2.zhimg.com/80/v2-441b28a9a0e7b22d12baaef93db56e4b_720w.png"></div>
<div style="clear: both;"></div>

<div style="font-size: 0.8em; margin: 15px 0 10px 0;">
	<strong><span style="caret-color: red;font-size: 15px;color: rgb(77, 168, 238);">扫码加入星球你将收获：</span></strong>
    <div style="height: 8px;"></div>
    1、主流互联网中找不到的副业赚钱方法，帮助你闷声赚钱；
	<div style="height: 5px;"></div>
	2、分享我的投资理财方法以及互联网中各种流量陷阱和套路；
	<div style="height: 5px;"></div>
	3、无限次向我提问，咨询成长方法、求学困惑、副业赚钱等问题。
</div>
</article>


  
  
  <article class="card card-content toc-card">
    <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#content_views"><span class="toc-text">1.CNN中的卷积</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.1 卷积与相关滤波间的差别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.2 卷积输出尺寸计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.3 s&gt;1 的卷积</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">1.4 s&gt;1 的卷积与 pooling 之间的关系</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#content_views"><span class="toc-text">2. 转置卷积</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.1 将卷积转化为矩阵相乘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.2 卷积的前向传播和反向传播</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.3 转置卷积</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.4 转置卷积的计算</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#content_views"><span class="toc-text">2.5 步长小于 1 的转置卷积</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#content_views"><span class="toc-text">参考</span></a></li></ol>
  </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header"><i class="iconfont icon-wenzhang_huaban" style="padding-right: 2px;"></i>最近文章</div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2020-11-16</div>
        <a href="/2020/11/16/computer-book/"><div class="recent-posts-item-content">计算机专业几本必看的书！</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2020-11-15</div>
        <a href="/2020/11/15/SEO学习笔记/"><div class="recent-posts-item-content">SEO学习笔记</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2020-11-09</div>
        <a href="/2020/11/09/哪本书适合推荐给 Java 初学者？/"><div class="recent-posts-item-content">哪本书适合推荐给 Java 初学者？</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2020-10-29</div>
        <a href="/2020/10/29/历年微软面试中出现的leetcode算法题/"><div class="recent-posts-item-content">历年微软面试中出现的leetcode算法题</div></a>
      </div>
    
  </div>
</div>
  </article>

  
  
  
</div>
          </aside>
        </div>
      </div>
    </div>
  </div>
  
  <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>Copyright ©
          
          2020 -
          
          2020
        </span>
        &nbsp;
        <a href="/" class="footer-link">谭庆波的博客 </a>
      </div>
    </div>

    
    <div class="footer-dsc">
      
      Powered by
      <a href="https://hexo.io/" class="footer-link" target="_blank" rel="nofollow noopener noreferrer">&nbsp;Hexo </a>
      
      
      <span>&nbsp;|&nbsp;</span>
      
      
      Theme -
      <a href="https://github.com/theme-kaze" class="footer-link" target="_blank"
        rel="nofollow noopener noreferrer">&nbsp;Kaze</a>
      
    </div>
    
    
    
    
      <div class="footer-dsc">
        
        本站总访问量<span id="busuanzi_value_site_pv"></span>次
        
        
        <span>&nbsp;|&nbsp;</span>
        
        
        本站总访客数<span id="busuanzi_value_site_uv"></span>次
        
      </div>
      
    
</footer>
  <a role="button" id="scrollbutton" class="basebutton" >
  <i class="iconfont icon-arrowleft button-icon"></i>
</a>
<a role="button" id="menubutton" class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a role="button" id="popbutton" class="basebutton">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a role="button" id="darkbutton" class="basebutton darkwidget">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a role="button" id="searchbutton" class="basebutton searchwidget">
  <i class="iconfont icon-search button-icon"></i>
</a>

  
  
  

  
  
  <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img');
    var i;
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a');
      wrapper.setAttribute('data-fslightbox', 'gallery');
      wrapper.setAttribute('href', img[i].getAttribute('data-src'));
      wrapper.style.cssText = 'width: 100%; display: flex; justify-content: center;';
      img[i].before(wrapper);
      wrapper.append(img[i]);
    }
    refreshFsLightbox();
  }
</script>
<script>loadScript("//cdn.jsdelivr.net/npm/fslightbox@3.1.0/index.min.js", addImgLayout)</script>
  
  
  
<script src="/js/main.js"></script>

  
  <script>loadScript("/js/lib/busuanzi.min.js")</script>
  
  
  <script>
    var addLazyload = function () {
      var observer = lozad('.lozad', {
        load: function (el) {
          el.srcset = el.getAttribute('data-src');
        },
        loaded: function (el) {
          el.classList.add('loaded');
        }
      });
      observer.observe();
    }
  </script>
  <script>loadScript("/js/lib/lozad.min.js", addLazyload)</script>
  
  
  <script>
    var googleAnalytics = function() {
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-178024758-1');
    }
  </script>
  <script>loadScript("https://www.googletagmanager.com/gtag/js?id=" + "UA-178024758-1", googleAnalytics)</script>
  
</body>

</html>